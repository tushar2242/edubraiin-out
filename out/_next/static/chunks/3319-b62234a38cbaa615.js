"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3319],{18987:function(e,t,r){r.d(t,{Z:function(){return f}});var n=r(63366),i=r(87462),s=r(67294),a=r(86010),o=r(58510),l=r(59773),c=r(90948),d=r(71657),x=r(1977),h=r(8027);function m(e){return(0,h.ZP)("MuiListItemAvatar",e)}(0,x.Z)("MuiListItemAvatar",["root","alignItemsFlexStart"]);var u=r(85893);let p=["className"],g=e=>{let{alignItems:t,classes:r}=e;return(0,o.Z)({root:["root","flex-start"===t&&"alignItemsFlexStart"]},m,r)},j=(0,c.ZP)("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,"flex-start"===r.alignItems&&t.alignItemsFlexStart]}})(({ownerState:e})=>(0,i.Z)({minWidth:56,flexShrink:0},"flex-start"===e.alignItems&&{marginTop:8})),Z=s.forwardRef(function(e,t){let r=(0,d.Z)({props:e,name:"MuiListItemAvatar"}),{className:o}=r,c=(0,n.Z)(r,p),x=s.useContext(l.Z),h=(0,i.Z)({},r,{alignItems:x.alignItems}),m=g(h);return(0,u.jsx)(j,(0,i.Z)({className:(0,a.Z)(m.root,o),ownerState:h,ref:t},c))});var f=Z},59334:function(e,t,r){var n=r(63366),i=r(87462),s=r(67294),a=r(86010),o=r(58510),l=r(15861),c=r(59773),d=r(71657),x=r(90948),h=r(26336),m=r(85893);let u=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],p=e=>{let{classes:t,inset:r,primary:n,secondary:i,dense:s}=e;return(0,o.Z)({root:["root",r&&"inset",s&&"dense",n&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},h.L,t)},g=(0,x.ZP)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[{[`& .${h.Z.primary}`]:t.primary},{[`& .${h.Z.secondary}`]:t.secondary},t.root,r.inset&&t.inset,r.primary&&r.secondary&&t.multiline,r.dense&&t.dense]}})(({ownerState:e})=>(0,i.Z)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),j=s.forwardRef(function(e,t){let r=(0,d.Z)({props:e,name:"MuiListItemText"}),{children:o,className:x,disableTypography:h=!1,inset:j=!1,primary:Z,primaryTypographyProps:f,secondary:b,secondaryTypographyProps:y}=r,v=(0,n.Z)(r,u),{dense:w}=s.useContext(c.Z),C=null!=Z?Z:o,k=b,S=(0,i.Z)({},r,{disableTypography:h,inset:j,primary:!!C,secondary:!!k,dense:w}),P=p(S);return null==C||C.type===l.Z||h||(C=(0,m.jsx)(l.Z,(0,i.Z)({variant:w?"body2":"body1",className:P.primary,component:null!=f&&f.variant?void 0:"span",display:"block"},f,{children:C}))),null==k||k.type===l.Z||h||(k=(0,m.jsx)(l.Z,(0,i.Z)({variant:"body2",className:P.secondary,color:"text.secondary",display:"block"},y,{children:k}))),(0,m.jsxs)(g,(0,i.Z)({className:(0,a.Z)(P.root,x),ownerState:S,ref:t},v,{children:[C,k]}))});t.Z=j},28238:function(e,t,r){var n=r(85893),i=r(67294),s=r(84808),a=r(87357);let o=e=>{let{sx:t,show:r,direction:o,children:l,hideBackdrop:c,onOpen:d,onClose:x,backDropClick:h}=e,m=()=>{h&&h()};return(0,i.useEffect)(()=>{r&&d&&d(),!1===r&&x&&x()},[x,d,r]),(0,n.jsxs)(i.Fragment,{children:[(0,n.jsx)(a.Z,{sx:{top:0,height:"100%",zIndex:"drawer",position:"absolute",transition:"all 0.25s ease-in-out",backgroundColor:"background.paper",...r?{opacity:1}:{opacity:0},..."right"===o?{left:"auto",right:r?0:"-100%"}:{right:"auto",left:r?0:"-100%"},...t},children:l}),c?null:(0,n.jsx)(s.Z,{open:r,transitionDuration:250,onClick:m,sx:{position:"absolute",zIndex:e=>e.zIndex.drawer-1}})]})};t.Z=o,o.defaultProps={direction:"left"}},37406:function(e,t,r){r.d(t,{N:function(){return o},mf:function(){return a},oS:function(){return i},tE:function(){return l}});let n=e=>{let t=new Date;return new Date(e).getDate()===t.getDate()&&new Date(e).getMonth()===t.getMonth()&&new Date(e).getFullYear()===t.getFullYear()},i=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=new Date(e),i={month:"short",day:"numeric"};return t&&n(r)&&(i={hour:"numeric",minute:"numeric"}),new Intl.DateTimeFormat("en-US",i).format(new Date(e))},s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/\D+/g,"")},a=(e,t)=>{let r;if(!e)return e;let n=t.fns.cardType(e),i=s(e);switch(n){case"amex":r="".concat(i.slice(0,4)," ").concat(i.slice(4,10)," ").concat(i.slice(10,15));break;case"dinersclub":r="".concat(i.slice(0,4)," ").concat(i.slice(4,10)," ").concat(i.slice(10,14));break;default:r="".concat(i.slice(0,4)," ").concat(i.slice(4,8)," ").concat(i.slice(8,12)," ").concat(i.slice(12,19))}return r.trim()},o=e=>{let t=e.replace(/^([1-9]\/|[2-9])$/g,"0$1/").replace(/^(0[1-9]|1[0-2])$/g,"$1/").replace(/^([0-1])([3-9])$/g,"0$1/$2").replace(/^(0?[1-9]|1[0-2])([0-9]{2})$/g,"$1/$2").replace(/^([0]+)\/|[0]+$/g,"0").replace(/[^\d\/]|^[\/]*$/g,"").replace(/\/\//g,"/");return t},l=(e,t,r)=>{let n=s(e),i=r.fns.cardType(t);return n.slice(0,"amex"===i?4:3)}},31304:function(e,t,r){r.d(t,{Z:function(){return M}});var n=r(85893),i=r(90263),s=r(87952),a=r(90948),o=r(15861),l=r(93946),c=r(87357),d=r(63730),x=r(67294),h=r(51964),m=r.n(h),u=r(60155),p=r(72990);let g=(0,a.ZP)(m())(e=>{let{theme:t}=e;return{padding:t.spacing(5)}}),j=e=>{let{data:t,hidden:r}=e,i=(0,x.useRef)(null),s=()=>{i.current&&(r?i.current.scrollTop=i.current.scrollHeight:i.current._container.scrollTop=i.current._container.scrollHeight)},a=()=>{let e=[];t.chat&&(e=t.chat.chat);let r=[],n=e[0]?e[0].senderId:11,i={senderId:n,messages:[]};return e.forEach((t,s)=>{n===t.senderId?i.messages.push({time:t.time,msg:t.message,feedback:t.feedback}):(n=t.senderId,r.push(i),i={senderId:t.senderId,messages:[{time:t.time,msg:t.message,feedback:t.feedback}]}),s===e.length-1&&r.push(i)}),r},l=(e,t)=>{if(e)return t.isSent&&!t.isDelivered?(0,n.jsx)(c.Z,{component:"span",sx:{display:"inline-flex","& svg":{mr:2,color:"text.secondary"}},children:(0,n.jsx)(d.Z,{icon:"mdi:check",fontSize:"1rem"})}):t.isSent&&t.isDelivered?(0,n.jsx)(c.Z,{component:"span",sx:{display:"inline-flex","& svg":{mr:2,color:t.isSeen?"success.main":"text.secondary"}},children:(0,n.jsx)(d.Z,{icon:"mdi:check-all",fontSize:"1rem"})}):null};(0,x.useEffect)(()=>{t&&t.chat&&t.chat.chat.length&&s()},[t]);let h=e=>{let{children:t}=e;return r?(0,n.jsx)(c.Z,{ref:i,sx:{p:5,height:"100%",overflowY:"auto",overflowX:"hidden"},children:t}):(0,n.jsx)(g,{ref:i,options:{wheelPropagation:!1},children:t})};return(0,n.jsx)(c.Z,{sx:{height:"calc(100% - 8.4375rem)"},children:(0,n.jsx)(h,{children:a().map((e,r)=>{let i=e.senderId===t.userContact.id;return(0,n.jsxs)(c.Z,{sx:{display:"flex",flexDirection:i?"row-reverse":"row",mb:r!==a().length-1?4:void 0},children:[(0,n.jsx)("div",{children:(0,n.jsx)(u.Z,{skin:"light",color:t.contact.avatarColor?t.contact.avatarColor:void 0,sx:{width:"2rem",height:"2rem",fontSize:"0.875rem",ml:i?3.5:void 0,mr:i?void 0:3.5},...t.contact.avatar&&!i?{src:t.contact.avatar,alt:t.contact.fullName}:{},...i?{src:t.userContact.avatar,alt:t.userContact.fullName}:{},children:t.contact.avatarColor?(0,p.Q)(t.contact.fullName):null})}),(0,n.jsx)(c.Z,{className:"chat-body",sx:{maxWidth:["calc(100% - 5.75rem)","75%","65%"]},children:e.messages.map((e,t,r)=>{let{length:s}=r,a=new Date(e.time);return(0,n.jsxs)(c.Z,{sx:{"&:not(:last-of-type)":{mb:3.5}},children:[(0,n.jsx)("div",{children:(0,n.jsx)(o.Z,{sx:{boxShadow:1,borderRadius:1,maxWidth:"100%",width:"fit-content",fontSize:"0.875rem",wordWrap:"break-word",p:e=>e.spacing(3,4),ml:i?"auto":void 0,borderTopLeftRadius:i?void 0:0,borderTopRightRadius:i?0:void 0,color:i?"common.white":"text.primary",backgroundColor:i?"primary.main":"background.paper"},children:e.msg})}),t+1===s?(0,n.jsxs)(c.Z,{sx:{mt:1,display:"flex",alignItems:"center",justifyContent:i?"flex-end":"flex-start"},children:[l(i,e.feedback),(0,n.jsx)(o.Z,{variant:"caption",children:a?new Date(a).toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}):null})]}):null]},t)})})]},r)})})})};var Z=r(11057),f=r(50135);let b=(0,a.ZP)(c.Z)(e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",boxShadow:t.shadows[1],padding:t.spacing(1.25,4),justifyContent:"space-between",borderRadius:t.shape.borderRadius,backgroundColor:t.palette.background.paper}}),y=(0,a.ZP)("form")(e=>{let{theme:t}=e;return{padding:t.spacing(0,5,5)}}),v=e=>{let{store:t,dispatch:r,sendMsg:i}=e,[s,a]=(0,x.useState)(""),o=e=>{e.preventDefault(),t&&t.selectedChat&&s.trim().length&&r(i({...t.selectedChat,message:s})),a("")};return(0,n.jsx)(y,{onSubmit:o,children:(0,n.jsxs)(b,{children:[(0,n.jsx)(c.Z,{sx:{flexGrow:1,display:"flex",alignItems:"center"},children:(0,n.jsx)(f.Z,{fullWidth:!0,value:s,size:"small",placeholder:"Type your message hereâ€¦",onChange:e=>a(e.target.value),sx:{"& .MuiOutlinedInput-input":{pl:0},"& fieldset":{border:"0 !important"}}})}),(0,n.jsx)(c.Z,{sx:{display:"flex",alignItems:"center"},children:(0,n.jsx)(Z.Z,{type:"submit",variant:"contained",children:"Send"})})]})})};var w=r(81010),C=r(78462),k=r(19294),S=r(53457),P=r(48885),z=r(59334),I=r(98619),R=r(28238);let T=e=>{let{store:t,hidden:r,statusObj:a,getInitials:h,sidebarWidth:p,userProfileRightOpen:g,handleUserProfileRightSidebarToggle:j}=e,Z=e=>{let{children:t}=e;return r?(0,n.jsx)(c.Z,{sx:{height:"100%",overflowY:"auto",overflowX:"hidden"},children:t}):(0,n.jsx)(m(),{options:{wheelPropagation:!1},children:t})};return(0,n.jsx)(R.Z,{direction:"right",show:g,backDropClick:j,sx:{zIndex:9,height:"100%",width:p,borderTopRightRadius:e=>e.shape.borderRadius,borderBottomRightRadius:e=>e.shape.borderRadius,"& + .MuiBackdrop-root":{zIndex:8,borderRadius:1}},children:t&&t.selectedChat?(0,n.jsxs)(x.Fragment,{children:[(0,n.jsxs)(c.Z,{sx:{position:"relative"},children:[(0,n.jsx)(l.Z,{size:"small",onClick:j,sx:{top:"0.5rem",right:"0.5rem",position:"absolute",color:"text.secondary"},children:(0,n.jsx)(d.Z,{icon:"mdi:close",fontSize:"1.375rem"})}),(0,n.jsxs)(c.Z,{sx:{p:5,display:"flex",flexDirection:"column"},children:[(0,n.jsx)(c.Z,{sx:{mb:5.5,display:"flex",justifyContent:"center"},children:(0,n.jsx)(i.Z,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:(0,n.jsx)(c.Z,{component:"span",sx:{width:10,height:10,borderRadius:"50%",color:"".concat(a[t.selectedChat.contact.status],".main"),boxShadow:e=>"0 0 0 2px ".concat(e.palette.background.paper),backgroundColor:"".concat(a[t.selectedChat.contact.status],".main")}}),children:t.selectedChat.contact.avatar?(0,n.jsx)(s.Z,{sx:{width:"5rem",height:"5rem"},src:t.selectedChat.contact.avatar,alt:t.selectedChat.contact.fullName}):(0,n.jsx)(u.Z,{skin:"light",color:t.selectedChat.contact.avatarColor,sx:{width:"5rem",height:"5rem",fontWeight:500,fontSize:"2rem"},children:h(t.selectedChat.contact.fullName)})})}),(0,n.jsx)(o.Z,{sx:{mb:.5,fontWeight:500,textAlign:"center"},children:t.selectedChat.contact.fullName}),(0,n.jsx)(o.Z,{variant:"body2",sx:{textAlign:"center"},children:t.selectedChat.contact.role})]})]}),(0,n.jsx)(c.Z,{sx:{height:"calc(100% - 11.8125rem)"},children:(0,n.jsx)(Z,{children:(0,n.jsxs)(c.Z,{sx:{p:5},children:[(0,n.jsxs)(S.Z,{sx:{mb:10.5},children:[(0,n.jsx)(o.Z,{variant:"body2",sx:{mb:3.5,textTransform:"uppercase"},children:"About"}),(0,n.jsx)(o.Z,{sx:{fontSize:"0.875rem"},children:t.selectedChat.contact.about})]}),(0,n.jsxs)(c.Z,{sx:{mb:8.5},children:[(0,n.jsx)(o.Z,{variant:"body2",sx:{mb:3.5,textTransform:"uppercase"},children:"Personal Information"}),(0,n.jsxs)(C.Z,{dense:!0,sx:{p:0},children:[(0,n.jsxs)(k.ZP,{sx:{px:2},children:[(0,n.jsx)(P.Z,{sx:{mr:2,color:"text.primary"},children:(0,n.jsx)(d.Z,{icon:"mdi:email-outline",fontSize:"1.375rem"})}),(0,n.jsx)(z.Z,{sx:{textTransform:"lowercase"},primary:"".concat(t.selectedChat.contact.fullName.replace(/\s/g,"_"),"@email.com")})]}),(0,n.jsxs)(k.ZP,{sx:{px:2},children:[(0,n.jsx)(P.Z,{sx:{mr:2,color:"text.primary"},children:(0,n.jsx)(d.Z,{icon:"mdi:phone-outline",fontSize:"1.375rem"})}),(0,n.jsx)(z.Z,{primary:"+1(123) 456 - 7890"})]}),(0,n.jsxs)(k.ZP,{sx:{px:2},children:[(0,n.jsx)(P.Z,{sx:{mr:2,color:"text.primary"},children:(0,n.jsx)(d.Z,{icon:"mdi:clock-time-five-outline",fontSize:"1.375rem"})}),(0,n.jsx)(z.Z,{primary:"Mon - Fri 10AM - 8PM"})]})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(o.Z,{variant:"body2",sx:{mb:3.5,textTransform:"uppercase"},children:"Options"}),(0,n.jsxs)(C.Z,{dense:!0,sx:{p:0},children:[(0,n.jsx)(k.ZP,{disablePadding:!0,children:(0,n.jsxs)(I.Z,{sx:{px:2},children:[(0,n.jsx)(P.Z,{sx:{mr:2,color:"text.primary"},children:(0,n.jsx)(d.Z,{icon:"mdi:bookmark-outline",fontSize:"1.375rem"})}),(0,n.jsx)(z.Z,{primary:"Add Tag"})]})}),(0,n.jsx)(k.ZP,{disablePadding:!0,children:(0,n.jsxs)(I.Z,{sx:{px:2},children:[(0,n.jsx)(P.Z,{sx:{mr:2,color:"text.primary"},children:(0,n.jsx)(d.Z,{icon:"mdi:star-outline",fontSize:"1.375rem"})}),(0,n.jsx)(z.Z,{primary:"Important Contact"})]})}),(0,n.jsx)(k.ZP,{disablePadding:!0,children:(0,n.jsxs)(I.Z,{sx:{px:2},children:[(0,n.jsx)(P.Z,{sx:{mr:2,color:"text.primary"},children:(0,n.jsx)(d.Z,{icon:"mdi:image-outline",fontSize:"1.375rem"})}),(0,n.jsx)(z.Z,{primary:"Shared Media"})]})}),(0,n.jsx)(k.ZP,{disablePadding:!0,children:(0,n.jsxs)(I.Z,{sx:{px:2},children:[(0,n.jsx)(P.Z,{sx:{mr:2,color:"text.primary"},children:(0,n.jsx)(d.Z,{icon:"mdi:delete-outline",fontSize:"1.375rem"})}),(0,n.jsx)(z.Z,{primary:"Delete Contact"})]})}),(0,n.jsx)(k.ZP,{disablePadding:!0,children:(0,n.jsxs)(I.Z,{sx:{px:2},children:[(0,n.jsx)(P.Z,{sx:{mr:2.5,ml:.5,color:"text.primary"},children:(0,n.jsx)(d.Z,{icon:"mdi:block-helper",fontSize:"1.125rem"})}),(0,n.jsx)(z.Z,{primary:"Block Contact"})]})})]})]})]})})})]}):null})},N=(0,a.ZP)(c.Z)(e=>{let{theme:t}=e;return{flexGrow:1,height:"100%",display:"flex",borderRadius:1,alignItems:"center",flexDirection:"column",justifyContent:"center",backgroundColor:t.palette.action.hover}}),D=e=>{let{store:t,hidden:r,sendMsg:a,mdAbove:x,dispatch:h,statusObj:m,getInitials:p,sidebarWidth:g,userProfileRightOpen:Z,handleLeftSidebarToggle:f,handleUserProfileRightSidebarToggle:b}=e;console.log(t);let y=()=>{x||f()};return(()=>{if(!t)return null;{let e=t.selectedChat;return e?(0,n.jsxs)(c.Z,{sx:{width:0,flexGrow:1,height:"100%",backgroundColor:"action.hover"},children:[(0,n.jsxs)(c.Z,{sx:{py:3,px:5,display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:e=>"1px solid ".concat(e.palette.divider)},children:[(0,n.jsxs)(c.Z,{sx:{display:"flex",alignItems:"center"},children:[x?null:(0,n.jsx)(l.Z,{onClick:f,sx:{mr:2},children:(0,n.jsx)(d.Z,{icon:"mdi:menu"})}),(0,n.jsxs)(c.Z,{onClick:b,sx:{display:"flex",alignItems:"center",cursor:"pointer"},children:[(0,n.jsx)(i.Z,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},sx:{mr:3},badgeContent:(0,n.jsx)(c.Z,{component:"span",sx:{width:8,height:8,borderRadius:"50%",color:"".concat(m[e.contact.status],".main"),boxShadow:e=>"0 0 0 2px ".concat(e.palette.background.paper),backgroundColor:"".concat(m[e.contact.status],".main")}}),children:e.contact.avatar?(0,n.jsx)(s.Z,{src:e.contact.avatar,alt:e.contact.fullName,sx:{width:"2.375rem",height:"2.375rem"}}):(0,n.jsx)(u.Z,{skin:"light",color:e.contact.avatarColor,sx:{width:"2.375rem",height:"2.375rem",fontSize:"1rem"},children:p(e.contact.fullName)})}),(0,n.jsxs)(c.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,n.jsx)(o.Z,{sx:{fontWeight:500,fontSize:"0.875rem"},children:e.contact.fullName}),(0,n.jsx)(o.Z,{variant:"caption",sx:{color:"text.disabled"},children:e.contact.role})]})]})]}),(0,n.jsx)(c.Z,{sx:{display:"flex",alignItems:"center"},children:(0,n.jsx)(w.Z,{menuProps:{sx:{mt:2}},icon:(0,n.jsx)(d.Z,{icon:"mdi:dots-vertical",fontSize:"1.25rem"}),iconButtonProps:{size:"small",sx:{color:"text.secondary"}},options:["View Contact","Mute Notifications","Block Contact","Clear Chat","Report"]})})]}),e&&t.userProfile?(0,n.jsx)(j,{hidden:r,data:{...e,userContact:t.userProfile}}):null,(0,n.jsx)(v,{store:t,dispatch:h,sendMsg:a}),(0,n.jsx)(T,{store:t,hidden:r,statusObj:m,getInitials:p,sidebarWidth:g,userProfileRightOpen:Z,handleUserProfileRightSidebarToggle:b})]}):(0,n.jsxs)(N,{sx:{...x?{borderTopLeftRadius:0,borderBottomLeftRadius:0}:{}},children:[(0,n.jsx)(s.Z,{sx:{mb:6,pt:8,pb:7,px:7.5,width:110,height:110,boxShadow:3,backgroundColor:"background.paper"},children:(0,n.jsx)(d.Z,{icon:"mdi:message-outline",fontSize:"3.125rem"})}),(0,n.jsx)(c.Z,{onClick:y,sx:{py:2,px:6,boxShadow:3,borderRadius:5,backgroundColor:"background.paper",cursor:x?"default":"pointer"},children:(0,n.jsx)(o.Z,{sx:{fontWeight:500,fontSize:"1.125rem",lineHeight:"normal"},children:"Start Conversation"})})]})}})()};var M=D},88509:function(e,t,r){r.d(t,{Z:function(){return D}});var n=r(85893),i=r(67294),s=r(11163),a=r(87357),o=r(78462),l=r(87918),c=r(90263),d=r(58826),x=r(87952),h=r(19294),m=r(93946),u=r(15861),p=r(59334),g=r(18987),j=r(98619),Z=r(51964),f=r.n(Z),b=r(63730),y=r(60155),v=r(49033),w=r(11057),C=r(72852),k=r(50135),S=r(68061),P=r(48885),z=r(50480),I=r(28238);let R=e=>{let{store:t,hidden:r,statusObj:s,userStatus:l,sidebarWidth:d,setUserStatus:g,userProfileLeftOpen:Z,handleUserProfileLeftSidebarToggle:y}=e,R=e=>{g(e.target.value)},T=e=>{let{children:t}=e;return r?(0,n.jsx)(a.Z,{sx:{height:"100%",overflowY:"auto",overflowX:"hidden"},children:t}):(0,n.jsx)(f(),{options:{wheelPropagation:!1},children:t})};return(0,n.jsx)(I.Z,{show:Z,backDropClick:y,sx:{zIndex:9,height:"100%",width:d,borderTopLeftRadius:e=>e.shape.borderRadius,borderBottomLeftRadius:e=>e.shape.borderRadius,"& + .MuiBackdrop-root":{zIndex:8,borderRadius:1}},children:t&&t.userProfile?(0,n.jsxs)(i.Fragment,{children:[(0,n.jsx)(m.Z,{size:"small",onClick:y,sx:{top:"0.5rem",right:"0.5rem",position:"absolute",color:"text.secondary"},children:(0,n.jsx)(b.Z,{icon:"mdi:close",fontSize:"1.375rem"})}),(0,n.jsxs)(a.Z,{sx:{p:5,display:"flex",flexDirection:"column"},children:[(0,n.jsx)(a.Z,{sx:{mb:5.5,display:"flex",justifyContent:"center"},children:(0,n.jsx)(c.Z,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:(0,n.jsx)(a.Z,{component:"span",sx:{width:10,height:10,borderRadius:"50%",color:"".concat(s[l],".main"),backgroundColor:"".concat(s[l],".main"),boxShadow:e=>"0 0 0 2px ".concat(e.palette.background.paper)}}),children:(0,n.jsx)(x.Z,{sx:{width:80,height:80},src:t.userProfile.avatar,alt:t.userProfile.fullName})})}),(0,n.jsx)(u.Z,{sx:{mb:.5,fontWeight:500,textAlign:"center"},children:t.userProfile.fullName}),(0,n.jsx)(u.Z,{variant:"body2",sx:{textAlign:"center",textTransform:"capitalize"},children:t.userProfile.role})]}),(0,n.jsx)(a.Z,{sx:{height:"calc(100% - 11.8125rem)"},children:(0,n.jsx)(T,{children:(0,n.jsxs)(a.Z,{sx:{p:5},children:[(0,n.jsx)(u.Z,{variant:"body2",sx:{mb:4,textTransform:"uppercase"},children:"About"}),(0,n.jsx)(k.Z,{minRows:3,multiline:!0,fullWidth:!0,sx:{mb:4},defaultValue:t.userProfile.about}),(0,n.jsx)(u.Z,{variant:"body2",sx:{mb:4,textTransform:"uppercase"},children:"Status"}),(0,n.jsxs)(S.Z,{value:l,sx:{mb:4,ml:.8},onChange:R,children:[(0,n.jsx)("div",{children:(0,n.jsx)(z.Z,{value:"online",label:"Online",control:(0,n.jsx)(v.Z,{color:"success",sx:{p:1.5}})})}),(0,n.jsx)("div",{children:(0,n.jsx)(z.Z,{value:"away",label:"Away",control:(0,n.jsx)(v.Z,{color:"warning",sx:{p:1.5}})})}),(0,n.jsx)("div",{children:(0,n.jsx)(z.Z,{value:"busy",label:"Do not Disturb",control:(0,n.jsx)(v.Z,{color:"error",sx:{p:1.5}})})}),(0,n.jsx)("div",{children:(0,n.jsx)(z.Z,{value:"offline",label:"Offline",control:(0,n.jsx)(v.Z,{color:"secondary",sx:{p:1.5}})})})]}),(0,n.jsx)(u.Z,{variant:"body2",sx:{mb:4,textTransform:"uppercase"},children:"Settings"}),(0,n.jsxs)(o.Z,{dense:!0,sx:{p:0,mb:4},children:[(0,n.jsx)(h.ZP,{disablePadding:!0,secondaryAction:(0,n.jsx)(C.Z,{defaultChecked:!0}),children:(0,n.jsxs)(j.Z,{sx:{px:2},children:[(0,n.jsx)(P.Z,{sx:{mr:2,color:"text.primary"},children:(0,n.jsx)(b.Z,{icon:"mdi:check-circle-outline",fontSize:"1.375rem"})}),(0,n.jsx)(p.Z,{primary:"Two-step Verification"})]})}),(0,n.jsx)(h.ZP,{disablePadding:!0,secondaryAction:(0,n.jsx)(C.Z,{defaultChecked:!0}),children:(0,n.jsxs)(j.Z,{sx:{px:2},children:[(0,n.jsx)(P.Z,{sx:{mr:2,color:"text.primary"},children:(0,n.jsx)(b.Z,{icon:"mdi:bell-outline",fontSize:"1.375rem"})}),(0,n.jsx)(p.Z,{primary:"Notification"})]})}),(0,n.jsx)(h.ZP,{disablePadding:!0,children:(0,n.jsxs)(j.Z,{sx:{px:2},children:[(0,n.jsx)(P.Z,{sx:{mr:2,color:"text.primary"},children:(0,n.jsx)(b.Z,{icon:"mdi:account-outline",fontSize:"1.375rem"})}),(0,n.jsx)(p.Z,{primary:"Invite Friends"})]})}),(0,n.jsx)(h.ZP,{disablePadding:!0,children:(0,n.jsxs)(j.Z,{sx:{px:2},children:[(0,n.jsx)(P.Z,{sx:{mr:2,color:"text.primary"},children:(0,n.jsx)(b.Z,{icon:"mdi:delete-outline",fontSize:"1.375rem"})}),(0,n.jsx)(p.Z,{primary:"Delete Account"})]})})]}),(0,n.jsx)(w.Z,{variant:"contained",children:"Logout"})]})})})]}):null})},T=e=>{let{children:t,hidden:r}=e;return r?(0,n.jsx)(a.Z,{sx:{height:"100%",overflow:"auto"},children:t}):(0,n.jsx)(f(),{options:{wheelPropagation:!1},children:t})},N=e=>{let{store:t,hidden:r,mdAbove:Z,dispatch:f,statusObj:v,userStatus:w,selectChat:C,getInitials:k,sidebarWidth:S,setUserStatus:P,leftSidebarOpen:z,removeSelectedChat:I,userProfileLeftOpen:N,formatDateToMonthShort:D,handleLeftSidebarToggle:M,handleUserProfileLeftSidebarToggle:W}=e,[L,A]=(0,i.useState)(""),[B,F]=(0,i.useState)([]),[$,O]=(0,i.useState)([]),[E,_]=(0,i.useState)(null),G=(0,s.useRouter)(),U=(e,t)=>{f(C(t)),_({type:e,id:t}),Z||M()};(0,i.useEffect)(()=>{t&&t.chats&&null!==E&&"contact"===E.type&&E.id===t.chats[0].id&&_({type:"chat",id:E.id})},[t,E]),(0,i.useEffect)(()=>(G.events.on("routeChangeComplete",()=>{_(null),f(I())}),()=>{_(null),f(I())}),[]);let Y=e=>{if(null!==t.chats){let r=t.chats.filter(t=>t.id===e);return!!r.length}};return(0,n.jsxs)("div",{children:[(0,n.jsxs)(d.ZP,{open:z,onClose:M,variant:Z?"permanent":"temporary",ModalProps:{disablePortal:!0,keepMounted:!0},sx:{zIndex:7,height:"100%",display:"block",position:Z?"static":"absolute","& .MuiDrawer-paper":{boxShadow:"none",width:S,position:Z?"static":"absolute",borderTopLeftRadius:e=>e.shape.borderRadius,borderBottomLeftRadius:e=>e.shape.borderRadius},"& > .MuiBackdrop-root":{borderRadius:1,position:"absolute",zIndex:e=>e.zIndex.drawer-1}},children:[(0,n.jsxs)(a.Z,{sx:{px:5,py:3.125,display:"flex",alignItems:"center",borderBottom:e=>"1px solid ".concat(e.palette.divider)},children:[t&&t.userProfile?(0,n.jsx)(c.Z,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},sx:{mr:4},onClick:W,badgeContent:(0,n.jsx)(a.Z,{component:"span",sx:{width:8,height:8,borderRadius:"50%",color:"".concat(v[w],".main"),backgroundColor:"".concat(v[w],".main"),boxShadow:e=>"0 0 0 2px ".concat(e.palette.background.paper)}}),children:(0,n.jsx)(x.Z,{src:t.userProfile.avatar,alt:t.userProfile.fullName,sx:{width:"2.375rem",height:"2.375rem",cursor:"pointer"}})}):null,Z?null:(0,n.jsx)(m.Z,{sx:{p:1,ml:1},onClick:M,children:(0,n.jsx)(b.Z,{icon:"mdi:close",fontSize:"1.375rem"})})]}),(0,n.jsx)(a.Z,{sx:{height:"calc(100% - 4.125rem)"},children:(0,n.jsx)(T,{hidden:r,children:(0,n.jsxs)(a.Z,{sx:{p:e=>e.spacing(7,3,3)},children:[(0,n.jsx)(u.Z,{variant:"h6",sx:{ml:3,mb:3,color:"primary.main"},children:"Chats"}),(0,n.jsx)(o.Z,{sx:{mb:4,p:0},children:(()=>{if(t&&t.chats&&t.chats.length){if(L.length&&!B.length)return(0,n.jsx)(h.ZP,{children:(0,n.jsx)(u.Z,{sx:{color:"text.secondary"},children:"No Chats Found"})});{let e=L.length&&B.length?B:t.chats;return e.map((e,t)=>{let{lastMessage:r}=e.chat,i=null!==E&&E.id===e.id&&"chat"===E.type;return(0,n.jsx)(h.ZP,{disablePadding:!0,sx:{"&:not(:last-child)":{mb:1.5}},children:(0,n.jsxs)(j.Z,{disableRipple:!0,onClick:()=>U("chat",e.id),sx:{px:3,py:2.5,width:"100%",borderRadius:1,alignItems:"flex-start",...i&&{backgroundImage:e=>"linear-gradient(98deg, ".concat(e.palette.customColors.primaryGradient,", ").concat(e.palette.primary.main," 94%)")}},children:[(0,n.jsx)(g.Z,{sx:{m:0},children:(0,n.jsx)(c.Z,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:(0,n.jsx)(a.Z,{component:"span",sx:{width:8,height:8,borderRadius:"50%",color:"".concat(v[e.status],".main"),backgroundColor:"".concat(v[e.status],".main"),boxShadow:e=>"0 0 0 2px ".concat(i?e.palette.common.white:e.palette.background.paper)}}),children:e.avatar?(0,n.jsx)(x.Z,{src:e.avatar,alt:e.fullName,sx:{width:38,height:38,outline:e=>"2px solid ".concat(i?e.palette.common.white:"transparent")}}):(0,n.jsx)(y.Z,{color:e.avatarColor,skin:i?"light-static":"light",sx:{width:38,height:38,fontSize:"1rem",outline:e=>"2px solid ".concat(i?e.palette.common.white:"transparent")},children:k(e.fullName)})})}),(0,n.jsx)(p.Z,{sx:{my:0,ml:4,mr:1.5,"& .MuiTypography-root":{...i&&{color:"common.white"}}},primary:(0,n.jsx)(u.Z,{noWrap:!0,sx:{fontWeight:500,fontSize:"0.875rem"},children:e.fullName}),secondary:(0,n.jsx)(u.Z,{noWrap:!0,variant:"body2",sx:{...!i&&{color:"text.disabled"}},children:r?r.message:null})}),(0,n.jsxs)(a.Z,{sx:{display:"flex",alignItems:"flex-end",flexDirection:"column",justifyContent:"flex-start"},children:[(0,n.jsx)(u.Z,{variant:"body2",sx:{whiteSpace:"nowrap",color:i?"common.white":"text.disabled"},children:(0,n.jsx)(n.Fragment,{children:r?D(r.time,!0):new Date})}),e.chat.unseenMsgs&&e.chat.unseenMsgs>0?(0,n.jsx)(l.Z,{color:"error",label:e.chat.unseenMsgs,sx:{mt:.5,height:18,fontWeight:600,fontSize:"0.75rem","& .MuiChip-label":{pt:.25,px:1.655}}}):null]})]})},t)})}}})()}),(0,n.jsx)(u.Z,{variant:"h6",sx:{ml:3,mb:3,color:"primary.main"},children:"Contacts"}),(0,n.jsx)(o.Z,{sx:{p:0},children:(()=>{if(t&&t.chats&&t.chats.length){if(L.length&&!$.length)return(0,n.jsx)(h.ZP,{children:(0,n.jsx)(u.Z,{sx:{color:"text.secondary"},children:"No Contacts Found"})});{let e=L.length&&$.length?$:t.contacts;return null!==e?e.map((e,t)=>{let r=null!==E&&E.id===e.id&&"contact"===E.type&&!Y(e.id);return(0,n.jsx)(h.ZP,{disablePadding:!0,sx:{"&:not(:last-child)":{mb:1.5}},children:(0,n.jsxs)(j.Z,{disableRipple:!0,onClick:()=>U(Y(e.id)?"chat":"contact",e.id),sx:{px:3,py:2.5,width:"100%",borderRadius:1,...r&&{backgroundImage:e=>"linear-gradient(98deg, ".concat(e.palette.customColors.primaryGradient,", ").concat(e.palette.primary.main," 94%)")}},children:[(0,n.jsx)(g.Z,{sx:{m:0},children:e.avatar?(0,n.jsx)(x.Z,{alt:e.fullName,src:e.avatar,sx:{width:38,height:38,outline:e=>"2px solid ".concat(r?e.palette.common.white:"transparent")}}):(0,n.jsx)(y.Z,{color:e.avatarColor,skin:r?"light-static":"light",sx:{width:38,height:38,fontSize:"1rem",outline:e=>"2px solid ".concat(r?e.palette.common.white:"transparent")},children:k(e.fullName)})}),(0,n.jsx)(p.Z,{sx:{my:0,ml:4,...r&&{"& .MuiTypography-root":{color:"common.white"}}},primary:(0,n.jsx)(u.Z,{sx:{fontWeight:500,fontSize:"0.875rem"},children:e.fullName}),secondary:(0,n.jsx)(u.Z,{noWrap:!0,variant:"body2",sx:{...!r&&{color:"text.disabled"}},children:e.about})})]})},t)}):null}}})()})]})})})]}),(0,n.jsx)(R,{store:t,hidden:r,statusObj:v,userStatus:w,sidebarWidth:S,setUserStatus:P,userProfileLeftOpen:N,handleUserProfileLeftSidebarToggle:W})]})};var D=N}}]);