(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6942],{31425:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var i=n(63366),r=n(87462),a=n(67294),o=n(86010),l=n(58510),s=n(90948),d=n(71657),c=n(1977),u=n(8027);function m(e){return(0,u.ZP)("MuiDialogActions",e)}(0,c.Z)("MuiDialogActions",["root","spacing"]);var p=n(85893);let g=["className","disableSpacing"],f=e=>{let{classes:t,disableSpacing:n}=e;return(0,l.Z)({root:["root",!n&&"spacing"]},m,t)},h=(0,s.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:e})=>(0,r.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),x=a.forwardRef(function(e,t){let n=(0,d.Z)({props:e,name:"MuiDialogActions"}),{className:a,disableSpacing:l=!1}=n,s=(0,i.Z)(n,g),c=(0,r.Z)({},n,{disableSpacing:l}),u=f(c);return(0,p.jsx)(h,(0,r.Z)({className:(0,o.Z)(u.root,a),ownerState:c,ref:t},s))});var v=x},58951:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z}});var i=n(63366),r=n(87462),a=n(67294),o=n(86010),l=n(58510),s=n(90948),d=n(71657),c=n(15861),u=n(1977),m=n(8027);function p(e){return(0,m.ZP)("MuiDialogContentText",e)}(0,u.Z)("MuiDialogContentText",["root"]);var g=n(85893);let f=["children","className"],h=e=>{let{classes:t}=e,n=(0,l.Z)({root:["root"]},p,t);return(0,r.Z)({},t,n)},x=(0,s.ZP)(c.Z,{shouldForwardProp:e=>(0,s.FO)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),v=a.forwardRef(function(e,t){let n=(0,d.Z)({props:e,name:"MuiDialogContentText"}),{className:a}=n,l=(0,i.Z)(n,f),s=h(l);return(0,g.jsx)(x,(0,r.Z)({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:l,className:(0,o.Z)(s.root,a)},n,{classes:s}))});var Z=v},6514:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z}});var i=n(63366),r=n(87462),a=n(67294),o=n(86010),l=n(58510),s=n(90948),d=n(71657),c=n(1977),u=n(8027);function m(e){return(0,u.ZP)("MuiDialogContent",e)}(0,c.Z)("MuiDialogContent",["root","dividers"]);var p=n(4472),g=n(85893);let f=["className","dividers"],h=e=>{let{classes:t,dividers:n}=e;return(0,l.Z)({root:["root",n&&"dividers"]},m,t)},x=(0,s.ZP)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(({theme:e,ownerState:t})=>(0,r.Z)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${p.Z.root} + &`]:{paddingTop:0}})),v=a.forwardRef(function(e,t){let n=(0,d.Z)({props:e,name:"MuiDialogContent"}),{className:a,dividers:l=!1}=n,s=(0,i.Z)(n,f),c=(0,r.Z)({},n,{dividers:l}),u=h(c);return(0,g.jsx)(x,(0,r.Z)({className:(0,o.Z)(u.root,a),ownerState:c,ref:t},s))});var Z=v},37645:function(e,t,n){"use strict";var i=n(87462),r=n(63366),a=n(67294),o=n(86010),l=n(58510),s=n(15861),d=n(90948),c=n(71657),u=n(4472),m=n(34182),p=n(85893);let g=["className","id"],f=e=>{let{classes:t}=e;return(0,l.Z)({root:["root"]},u.a,t)},h=(0,d.ZP)(s.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),x=a.forwardRef(function(e,t){let n=(0,c.Z)({props:e,name:"MuiDialogTitle"}),{className:l,id:s}=n,d=(0,r.Z)(n,g),u=f(n),{titleId:x=s}=a.useContext(m.Z);return(0,p.jsx)(h,(0,i.Z)({component:"h2",className:(0,o.Z)(u.root,l),ownerState:n,ref:t,variant:"h6",id:null!=s?s:x},d))});t.Z=x},4472:function(e,t,n){"use strict";n.d(t,{a:function(){return a}});var i=n(1977),r=n(8027);function a(e){return(0,r.ZP)("MuiDialogTitle",e)}let o=(0,i.Z)("MuiDialogTitle",["root"]);t.Z=o},17880:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/apps/mentor/list",function(){return n(58975)}])},3813:function(e,t,n){"use strict";n.d(t,{H:function(){return i}});let i={string:"text",email:"email",number:"number",date:"date","datetime-local":"datetime-local"}},58975:function(e,t,n){"use strict";let i;n.r(t),n.d(t,{default:function(){return q}});var r=n(85893),a=n(67294),o=n(87357),l=n(86886),s=n(66242),d=n(34386),c=n(18972),u=n(50135),m=n(93946),p=n(94054),g=n(18360),f=n(78818),h=n(63730),x=n(82229),v=n(11057),Z=n(50657),j=n(37645),b=n(6514),y=n(58951),w=n(5306),C=n(56815),D=n(31425),M=n(16310),P=n(87536),S=n(47533),_=n(3813),N=n(42298),R=n(84698),T=n(11163),E=n(64529),O=n(782),z=n(55277),A=n(86501);let k="/auth",I=(0,E.Ue)((0,O.$e)({mentor:{id:null,list:[],total:0,page:1,size:10,search:null,paginate:!0}},(e,t)=>({get:{list:async()=>{let{mentor:{page:n,size:i,search:r,paginate:a}}=t();A.ZP.promise(z.ZP.get(k+"/mentors",{query:{page:n,limit:i,search:r}}),{loading:"fetching...",success:t=>(console.log("res",t),e(e=>{var n;return{mentor:{...e.mentor,list:null==t?void 0:t.data.mentors,total:null==t?void 0:null===(n=t.data)||void 0===n?void 0:n.metaData.total}}}),(null==t?void 0:t.message)||"fetched"),error:e=>e})},paginate:t=>{let{page:n,size:r,search:a,paginate:o}=t;e(e=>({mentor:{...e.mentor,search:a||""}})),clearTimeout(i);let l=()=>{e(e=>({mentor:{...e.mentor,page:n||e.mentor.page,size:r||e.mentor.size,search:a||e.mentor.search,paginate:null==o||o}})),I.getState().get.list()};if(a){i=setTimeout(()=>{l()},1e3),e(e=>({mentor:{...e.mentor,search:a}}));return}l()}},select:t=>e(e=>({mentor:{...e.mentor,id:t}})),add:async e=>{let n=t().mentor.id,i=A.ZP.promise(n?z.ZP.put("".concat(k,"/").concat(n),e,{formData:!1}):z.ZP.post("".concat(k,"/register"),e,{formData:!1}),{loading:n?"Updating":"Adding",success:e=>(I.getState().get.paginate({}),null==e?void 0:e.message),error:e=>e});return i},delete:async()=>{let e=t().mentor.id;if(!e)return A.ZP.error("Please select a item");A.ZP.promise(z.ZP.del("".concat(k,"/").concat(e)),{loading:"deleting",success:e=>(I.getState().get.paginate({}),null==e?void 0:e.message),error:e=>e})}}))),W=e=>{var t;let{read:n,write:i,update:E,del:O}=e,z="Mentor",A={_id:M.Z_().nullable().meta({hidden:!0}),name:M.Z_().required("Name is required"),email:M.Z_().required("Email is required").email("Enter a valid email"),password:M.Z_().required("Password is required").min(6,"Password must be at least 6 characters"),refreshToken:M.Z_().nullable().meta({hidden:!0}),lastLogin:M.hT().nullable().meta({hidden:!0}),verificationCode:M.Z_().nullable().meta({hidden:!0}),verificationCodeExpiry:M.hT().nullable().meta({hidden:!0})},k=M.Ry().shape(A),[W,q]=(0,a.useState)(!1),F=I(),[H,L]=(0,a.useState)(k.getDefault()),[Y,$]=(0,a.useState)(k.describe()),{control:U,handleSubmit:X,formState:{errors:V},getValues:B,setValue:Q,reset:G}=(0,P.cI)({defaultValues:H,mode:"onChange",resolver:(0,S.X)(k)});(0,a.useEffect)(()=>{F.get.paginate({size:10,page:1})},[]);let J=e=>{F.get.paginate({search:e})},K=async(e,t)=>{if(e)L(k.getDefault()),$(k.describe()),G(),F.select(null);else{let e=k.getDefault();for(let n in L(e),$(k.describe()),e)Q(n,t[n])}q(!0)},ee=()=>{q(!1)},et=[{field:"name",headerName:"Name",flex:.2,minWidth:150},{field:"email",headerName:"Email",flex:.25,minWidth:200},{field:"role",headerName:"Role",flex:.15,minWidth:120},{field:"lastLogin",headerName:"Last Login",flex:.2,minWidth:160,valueFormatter:e=>{let{value:t}=e;return t?new Date(t).toLocaleString():""}},{flex:.1,minWidth:250,sortable:!1,field:"actions",headerName:"Actions",renderCell:e=>{let{row:t}=e;return(0,r.jsx)(o.Z,{sx:{display:"flex",alignItems:"center"},children:(0,r.jsx)(d.Z,{title:"Edit ".concat(z),children:(0,r.jsx)(m.Z,{size:"small",onClick:()=>{for(let e in H)F.select(null==t?void 0:t.id),Q(e,t[e]);K(!1,t)},children:(0,r.jsx)(h.Z,{icon:"mdi:edit-outline",fontSize:20})})})})}}],en=async e=>{await F.add(e),ee()};return(0,T.useRouter)(),(0,r.jsx)(x.Z,{children:(0,r.jsx)(l.ZP,{container:!0,spacing:6,children:(0,r.jsxs)(l.ZP,{item:!0,xs:12,children:[(0,r.jsxs)(s.Z,{children:[(0,r.jsxs)(o.Z,{sx:{p:5,pb:3,width:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},children:[(0,r.jsxs)(g.Z,{size:"small",displayEmpty:!0,defaultValue:"",sx:{mr:4,mb:2},disabled:!0,renderValue:e=>0===e.length?"Actions":e,children:[(0,r.jsx)(c.Z,{disabled:!0,children:"Actions"}),(0,r.jsx)(c.Z,{value:"Delete",children:"Delete"}),(0,r.jsx)(c.Z,{value:"Edit",children:"Edit"}),(0,r.jsx)(c.Z,{value:"Send",children:"Send"})]}),(0,r.jsxs)(o.Z,{sx:{display:"flex",flexWrap:"wrap",alignItems:"center"},children:[(0,r.jsx)(u.Z,{size:"small",sx:{mr:4,mb:2},placeholder:"Search ".concat(z),onChange:e=>J(e.target.value)}),(0,r.jsxs)(v.Z,{sx:{mb:2},variant:"contained",onClick:()=>{K(!0)},children:["Create ",z]})]})]}),(0,r.jsx)(f._,{autoHeight:!0,pagination:!0,rows:F.mentor.list,columns:et,getRowId:e=>e._id,disableRowSelectionOnClick:!0,pageSizeOptions:[10,25,50],paginationMode:"server",paginationModel:{page:F.mentor.page-1,pageSize:F.mentor.size},onPaginationModelChange:e=>{let{page:t,pageSize:n}=e;(t!=F.mentor.page-1||n!=F.mentor.size)&&F.get.paginate({page:t+1,size:n})},onColumnOrderChange:e=>{console.log("e: ",e)},rowCount:F.mentor.total})]}),(0,r.jsxs)(Z.Z,{open:W,onClose:ee,"aria-labelledby":"user-view-edit","aria-describedby":"user-view-edit-description",sx:{"& .MuiPaper-root":{width:"100%",maxWidth:650}},children:[(0,r.jsxs)(j.Z,{id:"user-view-edit",sx:{textAlign:"center",fontSize:"1.5rem !important",px:e=>["".concat(e.spacing(5)," !important"),"".concat(e.spacing(15)," !important")],pt:e=>["".concat(e.spacing(8)," !important"),"".concat(e.spacing(12.5)," !important")]},children:[(null===(t=F.mentor)||void 0===t?void 0:t.id)?"Edit":"Add"," ",z]}),(0,r.jsxs)(b.Z,{sx:{pb:e=>"".concat(e.spacing(8)," !important"),px:e=>["".concat(e.spacing(5)," !important"),"".concat(e.spacing(15)," !important")]},children:[(0,r.jsx)(y.Z,{variant:"body2",id:"user-view-edit-description",sx:{textAlign:"center",mb:7}}),(0,r.jsx)("form",{onSubmit:X(en),children:(0,r.jsx)(l.ZP,{container:!0,spacing:6,children:Object.keys(Y.fields).map(e=>{var t,n,i,a;let o=Y.fields[e];if(null==o?void 0:null===(t=o.meta)||void 0===t?void 0:t.hidden)return(0,r.jsx)(r.Fragment,{});let s=o.label;s||(s=(s=e.replaceAll("_"," ")).charAt(0).toUpperCase()+s.slice(1));let d=_.H[o.type];return(null===(n=o.meta)||void 0===n?void 0:n.type)==="file"&&(d=null===(a=o.meta)||void 0===a?void 0:a.type),"boolean"==o.type&&(o.oneOf=[{value:1,label:"YES"},{value:0,label:"NO"}]),(0,r.jsx)(l.ZP,{item:!0,xs:12,sm:12,children:(0,r.jsxs)(p.Z,{fullWidth:!0,children:[(0,r.jsx)(P.Qr,{name:e,control:U,rules:{required:!0},render:t=>{let{field:{value:n,onChange:i}}=t;try{if(o.oneOf.length)return(0,r.jsx)(w.Z,{options:[...o.oneOf],onChange:(t,n)=>{Q(e,"object"==typeof n?null==n?void 0:n.value:n)},getOptionLabel:e=>"object"==typeof e?e.label:e,value:o.oneOf.find(e=>e.value==n)||n,renderInput:e=>(0,r.jsx)(u.Z,{...e,label:s})});if("file"==d){var a,l;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.Z,{variant:"outlined",fullWidth:!0,size:"large",color:"secondary",children:(0,r.jsxs)("label",{htmlFor:"user-view-".concat(e),style:{width:"100%",height:"100%",display:"flex",justifyContent:"start",alignItems:"center",cursor:"pointer"},children:[(0,r.jsx)(h.Z,{icon:"mdi:cloud-upload-outline"}),(0,r.jsx)("p",{style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",margin:"0 0 0 5px"},children:(null==n?void 0:n.length)>0&&(null===(a=n[0])||void 0===a?void 0:a.name)||s})]})}),(0,r.jsx)("input",{type:"file",id:"user-view-".concat(e),hidden:!0,onChange:t=>{let n=t.target.files;n&&Q(e,n[0])},...null==o?void 0:null===(l=o.meta)||void 0===l?void 0:l.attr})]})}if("date"===d)return(0,r.jsx)(R.t,{label:s,value:n,onChange:t=>{Q(e,(0,N.default)(new Date(t),"yyyy-MM-dd HH:mm:ss"))}})}catch(t){return console.error(e),(0,r.jsx)(r.Fragment,{})}return(0,r.jsx)(u.Z,{value:n,label:s,onChange:"datetime-local"==d?t=>{Q(e,(0,N.default)(new Date(t.target.value),"yyyy-MM-dd HH:mm:ss"))}:i,type:d,error:!!V[e]})}}),V[e]&&(0,r.jsx)(C.Z,{sx:{color:"error.main"},id:"validation-schema-first-name",children:null===(i=V[e])||void 0===i?void 0:i.message})]})})})})})]}),(0,r.jsxs)(D.Z,{sx:{justifyContent:"center",px:e=>["".concat(e.spacing(5)," !important"),"".concat(e.spacing(15)," !important")],pb:e=>["".concat(e.spacing(8)," !important"),"".concat(e.spacing(12.5)," !important")]},children:[(0,r.jsx)(v.Z,{variant:"contained",sx:{mr:2},onClick:X(en),children:"Submit"}),(0,r.jsx)(v.Z,{variant:"outlined",color:"secondary",onClick:ee,children:"Cancel"})]})]})]})})})};W.moduleId=3,W.gameIds=[1,2];var q=W},84698:function(e,t,n){"use strict";n.d(t,{t:function(){return d}});var i=n(85893),r=n(9198),a=n.n(r),o=n(67294),l=n(82229),s=n(92313);let d=e=>{let{label:t,value:n,onChange:r}=e,[d,c]=(0,o.useState)(new Date);return(0,i.jsx)(l.Z,{children:(0,i.jsx)(a(),{showYearDropdown:!0,showMonthDropdown:!0,selected:d,dateFormat:"yyyy-MM-dd h:mm aa",showTimeInput:!0,placeholderText:"MM-DD-YYYY",value:n,onChange:(e,t)=>{c(e),r(e,t)},customInput:(0,i.jsx)(s.Z,{label:t,style:{width:"100%"}})})})}},92313:function(e,t,n){"use strict";var i=n(85893),r=n(67294),a=n(50135);let o=(0,r.forwardRef)((e,t)=>{let{...n}=e,{label:r,readOnly:o,style:l}=n;return(0,i.jsx)(a.Z,{inputRef:t,...n,...l&&{style:l},label:r||"",...o&&{inputProps:{readOnly:!0}}})});t.Z=o},459:function(){}},function(e){e.O(0,[4386,7536,2216,3863,9198,7693,8818,2229,9774,2888,179],function(){return e(e.s=17880)}),_N_E=e.O()}]);