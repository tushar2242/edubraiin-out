(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4125],{31425:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var i=n(63366),l=n(87462),o=n(67294),a=n(86010),r=n(58510),s=n(90948),d=n(71657),c=n(1977),u=n(8027);function m(e){return(0,u.ZP)("MuiDialogActions",e)}(0,c.Z)("MuiDialogActions",["root","spacing"]);var p=n(85893);let g=["className","disableSpacing"],f=e=>{let{classes:t,disableSpacing:n}=e;return(0,r.Z)({root:["root",!n&&"spacing"]},m,t)},x=(0,s.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:e})=>(0,l.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),Z=o.forwardRef(function(e,t){let n=(0,d.Z)({props:e,name:"MuiDialogActions"}),{className:o,disableSpacing:r=!1}=n,s=(0,i.Z)(n,g),c=(0,l.Z)({},n,{disableSpacing:r}),u=f(c);return(0,p.jsx)(x,(0,l.Z)({className:(0,a.Z)(u.root,o),ownerState:c,ref:t},s))});var v=Z},58951:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var i=n(63366),l=n(87462),o=n(67294),a=n(86010),r=n(58510),s=n(90948),d=n(71657),c=n(15861),u=n(1977),m=n(8027);function p(e){return(0,m.ZP)("MuiDialogContentText",e)}(0,u.Z)("MuiDialogContentText",["root"]);var g=n(85893);let f=["children","className"],x=e=>{let{classes:t}=e,n=(0,r.Z)({root:["root"]},p,t);return(0,l.Z)({},t,n)},Z=(0,s.ZP)(c.Z,{shouldForwardProp:e=>(0,s.FO)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),v=o.forwardRef(function(e,t){let n=(0,d.Z)({props:e,name:"MuiDialogContentText"}),{className:o}=n,r=(0,i.Z)(n,f),s=x(r);return(0,g.jsx)(Z,(0,l.Z)({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:r,className:(0,a.Z)(s.root,o)},n,{classes:s}))});var h=v},6514:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var i=n(63366),l=n(87462),o=n(67294),a=n(86010),r=n(58510),s=n(90948),d=n(71657),c=n(1977),u=n(8027);function m(e){return(0,u.ZP)("MuiDialogContent",e)}(0,c.Z)("MuiDialogContent",["root","dividers"]);var p=n(4472),g=n(85893);let f=["className","dividers"],x=e=>{let{classes:t,dividers:n}=e;return(0,r.Z)({root:["root",n&&"dividers"]},m,t)},Z=(0,s.ZP)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(({theme:e,ownerState:t})=>(0,l.Z)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${p.Z.root} + &`]:{paddingTop:0}})),v=o.forwardRef(function(e,t){let n=(0,d.Z)({props:e,name:"MuiDialogContent"}),{className:o,dividers:r=!1}=n,s=(0,i.Z)(n,f),c=(0,l.Z)({},n,{dividers:r}),u=x(c);return(0,g.jsx)(Z,(0,l.Z)({className:(0,a.Z)(u.root,o),ownerState:c,ref:t},s))});var h=v},37645:function(e,t,n){"use strict";var i=n(87462),l=n(63366),o=n(67294),a=n(86010),r=n(58510),s=n(15861),d=n(90948),c=n(71657),u=n(4472),m=n(34182),p=n(85893);let g=["className","id"],f=e=>{let{classes:t}=e;return(0,r.Z)({root:["root"]},u.a,t)},x=(0,d.ZP)(s.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),Z=o.forwardRef(function(e,t){let n=(0,c.Z)({props:e,name:"MuiDialogTitle"}),{className:r,id:s}=n,d=(0,l.Z)(n,g),u=f(n),{titleId:Z=s}=o.useContext(m.Z);return(0,p.jsx)(x,(0,i.Z)({component:"h2",className:(0,a.Z)(u.root,r),ownerState:n,ref:t,variant:"h6",id:null!=s?s:Z},d))});t.Z=Z},4472:function(e,t,n){"use strict";n.d(t,{a:function(){return o}});var i=n(1977),l=n(8027);function o(e){return(0,l.ZP)("MuiDialogTitle",e)}let a=(0,i.Z)("MuiDialogTitle",["root"]);t.Z=a},10857:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/apps/modules/list",function(){return n(86862)}])},3813:function(e,t,n){"use strict";n.d(t,{H:function(){return i}});let i={string:"text",email:"email",number:"number",date:"date","datetime-local":"datetime-local"}},10521:function(e,t,n){"use strict";let i;var l=n(64529),o=n(782),a=n(55277),r=n(86501);let s="/modules",d=(0,l.Ue)((0,o.$e)({module:{id:null,list:[],total:0,page:1,size:10,search:null,paginate:!0,game_id:null,populate:0}},(e,t)=>({get:{list:async()=>{let{module:{page:n,size:i,search:l,paginate:o,game_id:d,populate:c}}=t();r.ZP.promise(a.ZP.get(s,{query:{page:n,size:i,search:l,paginate:o?"YES":"NO",game_id:d,populate:c}}),{loading:"fetching...",success:t=>(console.log("module res: ",t),e(e=>{var n;return{module:{...e.module,list:o?null==t?void 0:t.data:t,total:null==t?void 0:null===(n=t.meta)||void 0===n?void 0:n.total}}}),(null==t?void 0:t.message)||"fetched"),error:e=>e})},paginate:t=>{let{page:n,size:l,search:o,paginate:a,game_id:r,populate:s}=t;e(e=>({module:{...e.module,search:o||""}})),clearTimeout(i);let c=()=>{e(e=>({module:{...e.module,page:n||e.module.page,size:l||e.module.size,search:o||e.module.search,game_id:r||e.module.game_id,paginate:null==a||a,populate:null!=s?s:0}})),d.getState().get.list()};if(o){i=setTimeout(()=>{c()},1e3),e(e=>({module:{...e.module,search:o}}));return}c()}},select:t=>e(e=>({module:{...e.module,id:t}})),add:async e=>{let n=t().module.id;r.ZP.promise(n?a.ZP.put("".concat(s,"/").concat(n),e):a.ZP.post(s,e),{loading:n?"Updating":"Adding",success:e=>(d.getState().get.paginate({}),null==e?void 0:e.message),error:e=>e})},delete:async()=>{let e=t().module.id;if(!e)return r.ZP.error("No plan to delete");r.ZP.promise(a.ZP.del("".concat(s,"/").concat(e)),{loading:"deleting",success:e=>(d.getState().get.paginate({}),null==e?void 0:e.message),error:e=>e})}})));t.Z=d},86862:function(e,t,n){"use strict";n.r(t);var i=n(85893),l=n(67294),o=n(41664),a=n.n(o),r=n(87357),s=n(86886),d=n(66242),c=n(34386),u=n(90948),m=n(18972),p=n(50135),g=n(93946),f=n(15861),x=n(94054),Z=n(18360),v=n(78818),h=n(63730),j=n(82229),b=n(50657),y=n(37645),C=n(6514),w=n(58951),S=n(5306),M=n(56815),P=n(31425),D=n(11057),N=n(16310),_=n(87536),z=n(47533),O=n(3813),R=n(10065),E=n(10521),T=n(42298);let k=(0,u.ZP)(a())(e=>{let{theme:t}=e;return{textDecoration:"none",color:t.palette.primary.main}}),A=[{flex:.1,field:"id",minWidth:80,headerName:"ID",renderCell:e=>{let{row:t}=e;return(0,i.jsx)(f.Z,{variant:"body2",children:t.id})}},{flex:.1,field:"name",minWidth:80,headerName:"name",renderCell:e=>{let{row:t}=e;return(0,i.jsx)(k,{href:"/",onClick:e=>e.preventDefault(),children:"".concat(t.name)})}},{flex:.1,minWidth:90,field:"created_at",headerName:"Created At",renderCell:e=>{let{row:t}=e;return(0,i.jsx)(f.Z,{variant:"body2",children:(0,T.default)(new Date(t.created_at),"dd MMM yyyy hh:mm:ss")})}},{flex:.1,minWidth:90,field:"updated_at",headerName:"Last updated",renderCell:e=>{let{row:t}=e;return(0,i.jsx)(f.Z,{variant:"body2",children:(0,T.default)(new Date(t.updated_at),"dd MMM yyyy hh:mm:ss")})}}],W=N.Ry().shape({game_id:N.Rx().label("Game").meta({type:"select"}).required(),name:N.Z_().label("Name").meta({}).required(),order:N.Rx().label("Order").meta({}).required()}),I=W.getDefault(),q=W.describe(),F=()=>{var e;let t="Feature",[n,o]=(0,l.useState)(!1),[a,u]=(0,l.useState)({page:0,pageSize:10}),f=(0,E.Z)();(0,R.Z)();let{control:N,handleSubmit:T,formState:{errors:k},getValues:F,setValue:$,reset:H}=(0,_.cI)({defaultValues:I,mode:"onChange",resolver:(0,z.X)(W)});(0,l.useEffect)(()=>{f.get.paginate({size:10,page:1})},[]),(0,l.useEffect)(()=>{var e,t,n;(null==f?void 0:null===(e=f.module)||void 0===e?void 0:e.total)&&(console.log("store?.game?.total: ",null==f?void 0:null===(t=f.module)||void 0===t?void 0:t.total),$("order",((null==f?void 0:null===(n=f.module)||void 0===n?void 0:n.total)||0)+1))},[null==f?void 0:f.module]);let L=e=>{f.get.paginate({search:e})},X=e=>{e&&(H(),f.select(null)),o(!0)},Y=()=>o(!1),U=[...A,{flex:.1,minWidth:130,sortable:!1,field:"actions",headerName:"Actions",renderCell:e=>{let{row:n}=e;return(0,i.jsxs)(r.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,i.jsx)(c.Z,{title:"Edit ".concat(t),children:(0,i.jsx)(g.Z,{size:"small",onClick:()=>{for(let e in I)$(e,n[e]),X();f.select(null==n?void 0:n.id)},children:(0,i.jsx)(h.Z,{icon:"mdi:edit-outline",fontSize:20})})}),(0,i.jsx)(c.Z,{title:"Delete ".concat(t),children:(0,i.jsx)(g.Z,{size:"small",onClick:()=>{f.select(null==n?void 0:n.id),f.delete()},children:(0,i.jsx)(h.Z,{icon:"mdi:delete-outline",fontSize:20})})}),(0,i.jsx)(c.Z,{title:"Copy ".concat(t),children:(0,i.jsx)(g.Z,{size:"small",onClick:()=>{for(let e in I)$(e,n[e]),X()},children:(0,i.jsx)(h.Z,{icon:"mdi:content-copy",fontSize:20})})})]})}}],V=async()=>{let e=F();await f.add(e),Y()};return(0,i.jsx)(j.Z,{children:(0,i.jsx)(s.ZP,{container:!0,spacing:6,children:(0,i.jsxs)(s.ZP,{item:!0,xs:12,children:[(0,i.jsxs)(d.Z,{children:[(0,i.jsxs)(r.Z,{sx:{p:5,pb:3,width:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},children:[(0,i.jsxs)(Z.Z,{size:"small",displayEmpty:!0,defaultValue:"",sx:{mr:4,mb:2},disabled:!0,renderValue:e=>0===e.length?"Actions":e,children:[(0,i.jsx)(m.Z,{disabled:!0,children:"Actions"}),(0,i.jsx)(m.Z,{value:"Delete",children:"Delete"}),(0,i.jsx)(m.Z,{value:"Edit",children:"Edit"}),(0,i.jsx)(m.Z,{value:"Send",children:"Send"})]}),(0,i.jsx)(r.Z,{sx:{display:"flex",flexWrap:"wrap",alignItems:"center"},children:(0,i.jsx)(p.Z,{size:"small",sx:{mr:4,mb:2},placeholder:"Search ".concat(t),onChange:e=>L(e.target.value)})})]}),(0,i.jsx)(v._,{autoHeight:!0,pagination:!0,rows:f.module.list,columns:U,disableRowSelectionOnClick:!0,pageSizeOptions:[10,25,50],paginationMode:"server",paginationModel:{page:f.module.page-1,pageSize:f.module.size},onPaginationModelChange:e=>{let{page:t,pageSize:n}=e;(t!=f.module.page-1||n!=f.module.size)&&f.get.paginate({page:t+1,size:n})},onColumnOrderChange:e=>{console.log("e: ",e)},rowCount:f.module.total})]}),(0,i.jsxs)(b.Z,{open:n,onClose:Y,"aria-labelledby":"user-view-edit","aria-describedby":"user-view-edit-description",sx:{"& .MuiPaper-root":{width:"100%",maxWidth:650}},children:[(0,i.jsxs)(y.Z,{id:"user-view-edit",sx:{textAlign:"center",fontSize:"1.5rem !important",px:e=>["".concat(e.spacing(5)," !important"),"".concat(e.spacing(15)," !important")],pt:e=>["".concat(e.spacing(8)," !important"),"".concat(e.spacing(12.5)," !important")]},children:[(null===(e=f.module)||void 0===e?void 0:e.id)?"Edit":"Add"," ",t]}),(0,i.jsxs)(C.Z,{sx:{pb:e=>"".concat(e.spacing(8)," !important"),px:e=>["".concat(e.spacing(5)," !important"),"".concat(e.spacing(15)," !important")]},children:[(0,i.jsx)(w.Z,{variant:"body2",id:"user-view-edit-description",sx:{textAlign:"center",mb:7}}),(0,i.jsx)("form",{onSubmit:T(V),children:(0,i.jsx)(s.ZP,{container:!0,spacing:6,children:Object.keys(q.fields).map(e=>{var t,n;let l=q.fields[e];if(null==l?void 0:null===(t=l.meta)||void 0===t?void 0:t.hidden)return(0,i.jsx)(i.Fragment,{});let o=l.label,a=O.H[l.type];return"boolean"==l.type&&(l.oneOf=[{value:1,label:"YES"},{value:0,label:"NO"}]),(0,i.jsx)(s.ZP,{item:!0,xs:12,sm:12,children:(0,i.jsxs)(x.Z,{fullWidth:!0,children:[(0,i.jsx)(_.Qr,{name:e,control:N,rules:{required:!0},render:t=>{let{field:{value:n,onChange:r}}=t;try{if(l.oneOf.length)return(0,i.jsx)(S.Z,{options:[...l.oneOf],onChange:(t,n)=>{$(e,"object"==typeof n?null==n?void 0:n.value:n)},getOptionLabel:e=>"object"==typeof e?e.label:e,value:l.oneOf.find(e=>e.value==n)||n,renderInput:e=>(0,i.jsx)(p.Z,{...e,label:o})})}catch(t){return console.error(e),(0,i.jsx)(i.Fragment,{})}return(0,i.jsx)(p.Z,{value:n,label:o,onChange:r,type:a,error:!!k[e]})}}),k[e]&&(0,i.jsx)(M.Z,{sx:{color:"error.main"},id:"validation-schema-first-name",children:null===(n=k[e])||void 0===n?void 0:n.message})]})})})})})]}),(0,i.jsxs)(P.Z,{sx:{justifyContent:"center",px:e=>["".concat(e.spacing(5)," !important"),"".concat(e.spacing(15)," !important")],pb:e=>["".concat(e.spacing(8)," !important"),"".concat(e.spacing(12.5)," !important")]},children:[(0,i.jsx)(D.Z,{variant:"contained",sx:{mr:2},onClick:T(V),children:"Submit"}),(0,i.jsx)(D.Z,{variant:"outlined",color:"secondary",onClick:Y,children:"Cancel"})]})]})]})})})};t.default=F},459:function(){}},function(e){e.O(0,[4386,7536,2216,3863,7693,8818,2229,9774,2888,179],function(){return e(e.s=10857)}),_N_E=e.O()}]);