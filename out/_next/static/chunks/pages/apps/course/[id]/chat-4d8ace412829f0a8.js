(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5064],{18987:function(e,t,r){"use strict";r.d(t,{Z:function(){return Z}});var s=r(63366),n=r(87462),a=r(67294),o=r(86010),i=r(58510),l=r(59773),c=r(90948),d=r(71657),u=r(1977),h=r(8027);function m(e){return(0,h.ZP)("MuiListItemAvatar",e)}(0,u.Z)("MuiListItemAvatar",["root","alignItemsFlexStart"]);var p=r(85893);let x=["className"],g=e=>{let{alignItems:t,classes:r}=e;return(0,i.Z)({root:["root","flex-start"===t&&"alignItemsFlexStart"]},m,r)},f=(0,c.ZP)("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,"flex-start"===r.alignItems&&t.alignItemsFlexStart]}})(({ownerState:e})=>(0,n.Z)({minWidth:56,flexShrink:0},"flex-start"===e.alignItems&&{marginTop:8})),v=a.forwardRef(function(e,t){let r=(0,d.Z)({props:e,name:"MuiListItemAvatar"}),{className:i}=r,c=(0,s.Z)(r,x),u=a.useContext(l.Z),h=(0,n.Z)({},r,{alignItems:u.alignItems}),m=g(h);return(0,p.jsx)(f,(0,n.Z)({className:(0,o.Z)(m.root,i),ownerState:h,ref:t},c))});var Z=v},59334:function(e,t,r){"use strict";var s=r(63366),n=r(87462),a=r(67294),o=r(86010),i=r(58510),l=r(15861),c=r(59773),d=r(71657),u=r(90948),h=r(26336),m=r(85893);let p=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],x=e=>{let{classes:t,inset:r,primary:s,secondary:n,dense:a}=e;return(0,i.Z)({root:["root",r&&"inset",a&&"dense",s&&n&&"multiline"],primary:["primary"],secondary:["secondary"]},h.L,t)},g=(0,u.ZP)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[{[`& .${h.Z.primary}`]:t.primary},{[`& .${h.Z.secondary}`]:t.secondary},t.root,r.inset&&t.inset,r.primary&&r.secondary&&t.multiline,r.dense&&t.dense]}})(({ownerState:e})=>(0,n.Z)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),f=a.forwardRef(function(e,t){let r=(0,d.Z)({props:e,name:"MuiListItemText"}),{children:i,className:u,disableTypography:h=!1,inset:f=!1,primary:v,primaryTypographyProps:Z,secondary:b,secondaryTypographyProps:y}=r,j=(0,s.Z)(r,p),{dense:w}=a.useContext(c.Z),C=null!=v?v:i,S=b,I=(0,n.Z)({},r,{disableTypography:h,inset:f,primary:!!C,secondary:!!S,dense:w}),k=x(I);return null==C||C.type===l.Z||h||(C=(0,m.jsx)(l.Z,(0,n.Z)({variant:w?"body2":"body1",className:k.primary,component:null!=Z&&Z.variant?void 0:"span",display:"block"},Z,{children:C}))),null==S||S.type===l.Z||h||(S=(0,m.jsx)(l.Z,(0,n.Z)({variant:"body2",className:k.secondary,color:"text.secondary",display:"block"},y,{children:S}))),(0,m.jsxs)(g,(0,n.Z)({className:(0,o.Z)(k.root,u),ownerState:I,ref:t},j,{children:[C,S]}))});t.Z=f},68300:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/apps/course/[id]/chat",function(){return r(39313)}])},37406:function(e,t,r){"use strict";r.d(t,{N:function(){return i},mf:function(){return o},oS:function(){return n},tE:function(){return l}});let s=e=>{let t=new Date;return new Date(e).getDate()===t.getDate()&&new Date(e).getMonth()===t.getMonth()&&new Date(e).getFullYear()===t.getFullYear()},n=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=new Date(e),n={month:"short",day:"numeric"};return t&&s(r)&&(n={hour:"numeric",minute:"numeric"}),new Intl.DateTimeFormat("en-US",n).format(new Date(e))},a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/\D+/g,"")},o=(e,t)=>{let r;if(!e)return e;let s=t.fns.cardType(e),n=a(e);switch(s){case"amex":r="".concat(n.slice(0,4)," ").concat(n.slice(4,10)," ").concat(n.slice(10,15));break;case"dinersclub":r="".concat(n.slice(0,4)," ").concat(n.slice(4,10)," ").concat(n.slice(10,14));break;default:r="".concat(n.slice(0,4)," ").concat(n.slice(4,8)," ").concat(n.slice(8,12)," ").concat(n.slice(12,19))}return r.trim()},i=e=>{let t=e.replace(/^([1-9]\/|[2-9])$/g,"0$1/").replace(/^(0[1-9]|1[0-2])$/g,"$1/").replace(/^([0-1])([3-9])$/g,"0$1/$2").replace(/^(0?[1-9]|1[0-2])([0-9]{2})$/g,"$1/$2").replace(/^([0]+)\/|[0]+$/g,"0").replace(/[^\d\/]|^[\/]*$/g,"").replace(/\/\//g,"/");return t},l=(e,t,r)=>{let s=a(e),n=r.fns.cardType(t);return s.slice(0,"amex"===n?4:3)}},44308:function(e,t,r){"use strict";let s;var n=r(64529),a=r(782),o=r(55277),i=r(86501),l=r(7688);let c="/courses",d=(0,n.Ue)((0,a.$e)({course:{id:null,list:[],total:0,page:1,size:10,search:null,paginate:!0,chats:[],selectedChat:{}}},(e,t)=>({get:{list:async()=>{let{course:{page:r,size:s,search:n,paginate:a}}=t();i.ZP.promise(o.ZP.get(c,{query:{page:r,limit:s,search:n}}),{loading:"fetching...",success:t=>(console.log("res",t),e(e=>{var r;return{course:{...e.course,list:null==t?void 0:t.data.courses,total:null==t?void 0:null===(r=t.data)||void 0===r?void 0:r.metaData.total}}}),(null==t?void 0:t.message)||"fetched"),error:e=>e})},paginate:t=>{let{page:r,size:n,search:a,paginate:o}=t;e(e=>({course:{...e.course,search:a||""}})),clearTimeout(s);let i=()=>{e(e=>({course:{...e.course,page:r||e.course.page,size:n||e.course.size,search:a||e.course.search,paginate:null==o||o}})),d.getState().get.list()};if(a){s=setTimeout(()=>{i()},1e3),e(e=>({course:{...e.course,search:a}}));return}i()},chats:async t=>{var r;let s=null===(r=(0,l.P)())||void 0===r?void 0:r.id;i.ZP.promise(o.ZP.post("/chat/course",{courseId:t,adminId:s}),{loading:"",success:t=>(console.log("res",t),e(e=>({course:{...e.course,chats:t.data}})),""),error:t=>(e(e=>({course:{...e.course,loading:!1}})),t)})}},selectChat:t=>{e(e=>({course:{...e.course,selectedChat:e.course.chats.find(e=>(null==e?void 0:e.chat._id)==t)}}))},refreshChat:async e=>{var r,s;null===(r=(0,l.P)())||void 0===r||r.id;let n=null===(s=t().course.selectedChat)||void 0===s?void 0:s.chat._id;await d.getState().get.chats(e),await d.getState().selectChat(n)},sendChat:r=>{var s,n;let a=null===(s=(0,l.P)())||void 0===s?void 0:s.id,c=null===(n=t().course.selectedChat)||void 0===n?void 0:n.chat._id;i.ZP.promise(o.ZP.post("/chat/send",{chatId:c,message:r,senderId:a}),{loading:"Sending message...",success:t=>(console.log("res",t),e(e=>({course:{...e.course,selectedChat:{...e.course.selectedChat,chat:{...e.course.selectedChat.chat,messages:[...e.course.selectedChat.chat.messages,t.data]}}}})),"Message sent"),error:e=>e})},select:t=>e(e=>({course:{...e.course,id:t}})),add:async e=>{let r=t().course.id,s=i.ZP.promise(r?o.ZP.patch("".concat(c,"/").concat(r),e,{formData:!0}):o.ZP.post("".concat(c,"/register"),e,{formData:!0}),{loading:r?"Updating":"Adding",success:e=>(d.getState().get.paginate({}),null==e?void 0:e.message),error:e=>e});return s},delete:async()=>{let e=t().course.id;if(!e)return i.ZP.error("Please select a item");i.ZP.promise(o.ZP.del("".concat(c,"/").concat(e)),{loading:"deleting",success:e=>(d.getState().get.paginate({}),null==e?void 0:e.message),error:e=>e})}})));t.Z=d},39313:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return G}});var s=r(85893),n=r(67294),a=r(87357),o=r(2734),i=r(98396),l=r(9473),c=r(36797),d=r(23918),u=r(72990),h=r(37406),m=r(11163),p=r(78462),x=r(87918),g=r(90263),f=r(58826),v=r(87952),Z=r(19294),b=r(15861),y=r(59334),j=r(18987),w=r(98619),C=r(93946),S=r(87109),I=r(50135),k=r(51964),P=r.n(k),R=r(63730),T=r(60155),D=r(44308);let z=e=>{let{children:t,hidden:r}=e;return r?(0,s.jsx)(a.Z,{sx:{height:"100%",overflow:"auto"},children:t}):(0,s.jsx)(P(),{options:{wheelPropagation:!1},children:t})},M=e=>{let{chats:t,hidden:r,mdAbove:o,getInitials:i,sidebarWidth:l,leftSidebarOpen:c,formatDateToMonthShort:d,handleLeftSidebarToggle:u}=e,[h,k]=(0,n.useState)(""),[P,M]=(0,n.useState)([]),[_,N]=(0,n.useState)(null),L=(0,m.useRouter)(),W=(0,D.Z)(),$=e=>{W.selectChat(e),N(e),o||u()};(0,n.useEffect)(()=>(L.events.on("routeChangeComplete",()=>N(null)),()=>N(null)),[L.events]);let E=e=>{let r=e.target.value.toLowerCase();k(r),M(t.filter(e=>e.user.name.toLowerCase().includes(r)))},B=e=>{let t=e.messages;return t.length>0?t[t.length-1]:null},A=h?P:t;return(0,s.jsxs)(f.ZP,{open:c,onClose:u,variant:o?"permanent":"temporary",ModalProps:{keepMounted:!0},sx:{zIndex:7,height:"100%",display:"block",position:o?"static":"absolute","& .MuiDrawer-paper":{boxShadow:"none",width:l,position:o?"static":"absolute",borderTopLeftRadius:e=>e.shape.borderRadius,borderBottomLeftRadius:e=>e.shape.borderRadius}},children:[(0,s.jsxs)(a.Z,{sx:{px:5,py:3.125,display:"flex",alignItems:"center",borderBottom:e=>"1px solid ".concat(e.palette.divider)},children:[(0,s.jsx)(I.Z,{fullWidth:!0,size:"small",value:h,onChange:E,placeholder:"Search chats...",sx:{"& .MuiInputBase-root":{borderRadius:5}},InputProps:{startAdornment:(0,s.jsx)(S.Z,{position:"start",children:(0,s.jsx)(R.Z,{icon:"mdi:magnify",fontSize:20})})}}),!o&&(0,s.jsx)(C.Z,{sx:{p:1,ml:1},onClick:u,children:(0,s.jsx)(R.Z,{icon:"mdi:close",fontSize:"1.375rem"})})]}),(0,s.jsx)(a.Z,{sx:{height:"calc(100% - 4.125rem)"},children:(0,s.jsx)(z,{hidden:r,children:(0,s.jsxs)(a.Z,{sx:{p:e=>e.spacing(7,3,3)},children:[(0,s.jsx)(b.Z,{variant:"h6",sx:{ml:3,mb:3,color:"primary.main"},children:"Chats"}),(0,s.jsx)(p.Z,{sx:{mb:4,p:0},children:(null==A?void 0:A.length)?A.map((e,t)=>{let r=B(e.chat),n=_===e.chat._id;return(0,s.jsx)(Z.ZP,{disablePadding:!0,sx:{"&:not(:last-child)":{mb:1.5}},children:(0,s.jsxs)(w.Z,{disableRipple:!0,onClick:()=>$(e.chat._id),sx:{px:3,py:2.5,width:"100%",borderRadius:1,alignItems:"flex-start",...n&&{backgroundImage:e=>"linear-gradient(98deg, ".concat(e.palette.customColors.primaryGradient,", ").concat(e.palette.primary.main," 94%)")}},children:[(0,s.jsx)(j.Z,{sx:{m:0},children:(0,s.jsx)(g.Z,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:(0,s.jsx)(a.Z,{component:"span",sx:{width:8,height:8,borderRadius:"50%",backgroundColor:"success.main",boxShadow:e=>"0 0 0 2px ".concat(n?e.palette.common.white:e.palette.background.paper)}}),children:e.avatar?(0,s.jsx)(v.Z,{src:e.avatar,alt:e.user.name,sx:{width:38,height:38,outline:e=>"2px solid ".concat(n?e.palette.common.white:"transparent")}}):(0,s.jsx)(T.Z,{skin:n?"light-static":"light",sx:{width:38,height:38,fontSize:"1rem",outline:e=>"2px solid ".concat(n?e.palette.common.white:"transparent")},children:i(e.user.name)})})}),(0,s.jsx)(y.Z,{sx:{my:0,ml:4,mr:1.5,"& .MuiTypography-root":{...n&&{color:"common.white"}}},primary:(0,s.jsx)(b.Z,{noWrap:!0,sx:{fontWeight:500,fontSize:"0.875rem"},children:e.user.name}),secondary:(0,s.jsx)(b.Z,{noWrap:!0,variant:"body2",sx:{...!n&&{color:"text.disabled"}},children:(null==r?void 0:r.message)||""})}),(0,s.jsxs)(a.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[(0,s.jsx)(b.Z,{variant:"body2",sx:{whiteSpace:"nowrap",color:n?"common.white":"text.disabled"},children:r?d(r.time,!0):""}),e.unseenMsgs&&e.unseenMsgs>0&&(0,s.jsx)(x.Z,{color:"error",label:e.unseenMsgs,sx:{mt:.5,height:18,fontWeight:600,fontSize:"0.75rem","& .MuiChip-label":{pt:.25,px:1.655}}})]})]})},e.chat._id)}):(0,s.jsx)(Z.ZP,{children:(0,s.jsx)(b.Z,{sx:{color:"text.secondary"},children:"No Chats Found"})})})]})})})]})};var _=r(90948);let N=(0,_.ZP)(P())(e=>{let{theme:t}=e;return{padding:t.spacing(5)}}),L=e=>{let{hidden:t,chat:r,user:o}=e,i=(0,n.useRef)(null),l=()=>{i.current&&(t?i.current.scrollTop=i.current.scrollHeight:i.current._container.scrollTop=i.current._container.scrollHeight)},c=()=>{let e=[];r&&(e=r.messages||[]);let t=[],s=e[0]?e[0].senderId:"",n={senderId:s,messages:[]};return e.forEach((r,a)=>{s===r.senderId?n.messages.push({time:r.time,msg:r.message,feedback:r.feedback}):(s=r.senderId,t.push(n),n={senderId:r.senderId,messages:[{time:r.time,msg:r.message,feedback:r.feedback}]}),a===e.length-1&&t.push(n)}),t},d=(e,t)=>e?t.isSent&&!t.isDelivered?(0,s.jsx)(a.Z,{component:"span",sx:{display:"inline-flex","& svg":{mr:2,color:"text.secondary"}},children:(0,s.jsx)(R.Z,{icon:"mdi:check",fontSize:"1rem"})}):t.isSent&&t.isDelivered?(0,s.jsx)(a.Z,{component:"span",sx:{display:"inline-flex","& svg":{mr:2,color:t.isSeen?"success.main":"text.secondary"}},children:(0,s.jsx)(R.Z,{icon:"mdi:check-all",fontSize:"1rem"})}):null:null;(0,n.useEffect)(()=>{var e;(null==r?void 0:null===(e=r.messages)||void 0===e?void 0:e.length)&&l()},[null==r?void 0:r.messages]);let h=e=>{let{children:r}=e;return t?(0,s.jsx)(a.Z,{ref:i,sx:{p:5,height:"100%",overflowY:"auto",overflowX:"hidden"},children:r}):(0,s.jsx)(N,{ref:i,options:{wheelPropagation:!1},children:r})};return(0,s.jsx)(a.Z,{sx:{height:"calc(100% - 8.4375rem)"},children:(0,s.jsx)(h,{children:c().map((e,t)=>{let r=e.senderId!=o._id;return(0,s.jsxs)(a.Z,{sx:{display:"flex",flexDirection:r?"row-reverse":"row",mb:t!==c().length-1?4:void 0},children:[(0,s.jsx)("div",{children:(0,s.jsx)(T.Z,{skin:"light",color:o.avatarColor,sx:{width:"2rem",height:"2rem",fontSize:"0.875rem",ml:r?3.5:void 0,mr:r?void 0:3.5},...r?{src:o.avatar,alt:o.fullName}:o.avatar?{src:o.avatar,alt:o.fullName}:{},children:o.avatarColor&&(0,u.Q)(o.fullName)})}),(0,s.jsx)(a.Z,{className:"chat-body",sx:{maxWidth:["calc(100% - 5.75rem)","75%","65%"]},children:e.messages.map((e,t,n)=>{let{length:o}=n,i=new Date(e.time);return(0,s.jsxs)(a.Z,{sx:{"&:not(:last-of-type)":{mb:3.5}},children:[(0,s.jsx)("div",{children:(0,s.jsx)(b.Z,{sx:{boxShadow:1,borderRadius:1,maxWidth:"100%",width:"fit-content",fontSize:"0.875rem",wordWrap:"break-word",p:e=>e.spacing(3,4),ml:r?"auto":void 0,borderTopLeftRadius:r?void 0:0,borderTopRightRadius:r?0:void 0,color:r?"common.white":"text.primary",backgroundColor:r?"primary.main":"background.paper"},children:e.msg})}),t+1===o?(0,s.jsxs)(a.Z,{sx:{mt:1,display:"flex",alignItems:"center",justifyContent:r?"flex-end":"flex-start"},children:[d(r,e.feedback),(0,s.jsx)(b.Z,{variant:"caption",children:i.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})})]}):null]},t)})})]},t)})})})};var W=r(11057);let $=(0,_.ZP)(a.Z)(e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",boxShadow:t.shadows[1],padding:t.spacing(1.25,4),justifyContent:"space-between",borderRadius:t.shape.borderRadius,backgroundColor:t.palette.background.paper}}),E=(0,_.ZP)("form")(e=>{let{theme:t}=e;return{padding:t.spacing(0,5,5)}}),B=()=>{let e=(0,D.Z)(),[t,r]=(0,n.useState)(""),o=s=>{s.preventDefault(),0!==t.length&&(e.sendChat(t),r(""))};return(0,s.jsx)(E,{onSubmit:o,children:(0,s.jsxs)($,{children:[(0,s.jsx)(a.Z,{sx:{flexGrow:1,display:"flex",alignItems:"center"},children:(0,s.jsx)(I.Z,{fullWidth:!0,value:t,size:"small",placeholder:"Type your message here…",onChange:e=>r(e.target.value),sx:{"& .MuiOutlinedInput-input":{pl:0},"& fieldset":{border:"0 !important"}}})}),(0,s.jsx)(a.Z,{sx:{display:"flex",alignItems:"center"},children:(0,s.jsx)(W.Z,{type:"submit",variant:"contained",children:"Send"})})]})})};var A=r(81010);let F=(0,_.ZP)(a.Z)(e=>{let{theme:t}=e;return{flexGrow:1,height:"100%",display:"flex",borderRadius:1,alignItems:"center",flexDirection:"column",justifyContent:"center",backgroundColor:t.palette.action.hover}}),O=e=>{let{hidden:t,sendMsg:r,mdAbove:n,dispatch:o,statusObj:i,getInitials:l,sidebarWidth:c,userProfileRightOpen:d,handleLeftSidebarToggle:u,handleUserProfileRightSidebarToggle:h}=e,m=()=>{n||u()},p=(0,D.Z)();return console.log("courseStore",p.course.selectedChat),(()=>{var e,r,o;if(!p.course)return null;let l=p.course.selectedChat;return l?(0,s.jsxs)(a.Z,{sx:{width:0,flexGrow:1,height:"100%",backgroundColor:"action.hover"},children:[(0,s.jsxs)(a.Z,{sx:{py:3,px:5,display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:e=>"1px solid ".concat(e.palette.divider)},children:[(0,s.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center"},children:[!n&&(0,s.jsx)(C.Z,{onClick:u,sx:{mr:2},children:(0,s.jsx)(R.Z,{icon:"mdi:menu"})}),(0,s.jsxs)(a.Z,{onClick:h,sx:{display:"flex",alignItems:"center",cursor:"pointer"},children:[(0,s.jsx)(g.Z,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},sx:{mr:3},badgeContent:(0,s.jsx)(a.Z,{component:"span",sx:{width:8,height:8,borderRadius:"50%",backgroundColor:"".concat(i.online,".main"),boxShadow:e=>"0 0 0 2px ".concat(e.palette.background.paper)}}),children:(0,s.jsx)(v.Z,{src:"",alt:null==l?void 0:null===(e=l.user)||void 0===e?void 0:e.name,sx:{width:"2.375rem",height:"2.375rem"}})}),(0,s.jsxs)(a.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,s.jsx)(b.Z,{sx:{fontWeight:500,fontSize:"0.875rem"},children:null==l?void 0:null===(r=l.user)||void 0===r?void 0:r.name}),(0,s.jsx)(b.Z,{variant:"caption",sx:{color:"text.disabled"},children:null==l?void 0:null===(o=l.user)||void 0===o?void 0:o.email})]})]})]}),(0,s.jsx)(a.Z,{sx:{display:"flex",alignItems:"center"},children:(0,s.jsx)(A.Z,{menuProps:{sx:{mt:2}},icon:(0,s.jsx)(R.Z,{icon:"mdi:dots-vertical",fontSize:"1.25rem"}),iconButtonProps:{size:"small",sx:{color:"text.secondary"}},options:["View Contact","Mute Notifications","Block Contact","Clear Chat","Report"]})})]}),(0,s.jsx)(L,{hidden:t,chat:null==l?void 0:l.chat,user:null==l?void 0:l.user}),(0,s.jsx)(B,{})]}):(0,s.jsxs)(F,{sx:{...n?{borderTopLeftRadius:0,borderBottomLeftRadius:0}:{}},children:[(0,s.jsx)(v.Z,{sx:{mb:6,pt:8,pb:7,px:7.5,width:110,height:110,boxShadow:3,backgroundColor:"background.paper"},children:(0,s.jsx)(R.Z,{icon:"mdi:message-outline",fontSize:"3.125rem"})}),(0,s.jsx)(a.Z,{onClick:m,sx:{py:2,px:6,boxShadow:3,borderRadius:5,backgroundColor:"background.paper",cursor:n?"default":"pointer"},children:(0,s.jsx)(b.Z,{sx:{fontWeight:500,fontSize:"1.125rem",lineHeight:"normal"},children:"Start Conversation"})})]})})()},U=()=>{var e;let[t,r]=(0,n.useState)("online"),[p,x]=(0,n.useState)(!1),[g,f]=(0,n.useState)(!1),[v,Z]=(0,n.useState)(!1),b=(0,o.Z)(),{settings:y}=(0,d.r)(),j=(0,l.I0)(),w=(0,i.Z)(b.breakpoints.down("lg")),{skin:C}=y,S=(0,i.Z)(b.breakpoints.up("sm")),I=S?370:300,k=(0,i.Z)(b.breakpoints.up("md")),P=()=>x(!p),R=()=>Z(!v),T=(0,D.Z)(),z=(0,m.useRouter)(),{id:_}=z.query;return(0,n.useEffect)(()=>{var e;if((null==z?void 0:z.isReady)&&(T.get.chats(_),null===(e=T.course.selectedChat)||void 0===e?void 0:e.user)){let e=setInterval(()=>{T.refreshChat(_)},3e3);return()=>clearInterval(e)}},[null==z?void 0:z.isReady,null===(e=T.course.selectedChat)||void 0===e?void 0:e.user]),(0,s.jsxs)(a.Z,{className:"app-chat",sx:{width:"100%",display:"flex",borderRadius:1,overflow:"hidden",position:"relative",backgroundColor:"background.paper",boxShadow:"bordered"===C?0:6,..."bordered"===C&&{border:"1px solid ".concat(b.palette.divider)}},children:[(0,s.jsx)(M,{chats:T.course.chats,hidden:w,mdAbove:k,getInitials:u.Q,sidebarWidth:I,leftSidebarOpen:p,formatDateToMonthShort:h.oS,handleLeftSidebarToggle:P}),(0,s.jsx)(O,{hidden:w,sendMsg:c.g_,mdAbove:k,dispatch:j,statusObj:{busy:"error",away:"warning",online:"success",offline:"secondary"},getInitials:u.Q,sidebarWidth:I,userProfileRightOpen:v,handleLeftSidebarToggle:P,handleUserProfileRightSidebarToggle:R})]})};U.contentHeightFixed=!0,U.moduleId=3,U.gameIds=[1,2];var G=U}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=68300)}),_N_E=e.O()}]);