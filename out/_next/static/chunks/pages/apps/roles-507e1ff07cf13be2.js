(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[846],{59907:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/apps/roles",function(){return l(2632)}])},25358:function(e,t,l){"use strict";var i=l(85893),s=l(86886);let n=e=>{let{title:t,subtitle:l}=e;return(0,i.jsxs)(s.ZP,{item:!0,xs:12,children:[t,l||null]})};t.Z=n},10521:function(e,t,l){"use strict";let i;var s=l(64529),n=l(782),a=l(55277),r=l(86501);let o="/modules",d=(0,s.Ue)((0,n.$e)({module:{id:null,list:[],total:0,page:1,size:10,search:null,paginate:!0,game_id:null,populate:0}},(e,t)=>({get:{list:async()=>{let{module:{page:l,size:i,search:s,paginate:n,game_id:d,populate:c}}=t();r.ZP.promise(a.ZP.get(o,{query:{page:l,size:i,search:s,paginate:n?"YES":"NO",game_id:d,populate:c}}),{loading:"fetching...",success:t=>(console.log("module res: ",t),e(e=>{var l;return{module:{...e.module,list:n?null==t?void 0:t.data:t,total:null==t?void 0:null===(l=t.meta)||void 0===l?void 0:l.total}}}),(null==t?void 0:t.message)||"fetched"),error:e=>e})},paginate:t=>{let{page:l,size:s,search:n,paginate:a,game_id:r,populate:o}=t;e(e=>({module:{...e.module,search:n||""}})),clearTimeout(i);let c=()=>{e(e=>({module:{...e.module,page:l||e.module.page,size:s||e.module.size,search:n||e.module.search,game_id:r||e.module.game_id,paginate:null==a||a,populate:null!=o?o:0}})),d.getState().get.list()};if(n){i=setTimeout(()=>{c()},1e3),e(e=>({module:{...e.module,search:n}}));return}c()}},select:t=>e(e=>({module:{...e.module,id:t}})),add:async e=>{let l=t().module.id;r.ZP.promise(l?a.ZP.put("".concat(o,"/").concat(l),e):a.ZP.post(o,e),{loading:l?"Updating":"Adding",success:e=>(d.getState().get.paginate({}),null==e?void 0:e.message),error:e=>e})},delete:async()=>{let e=t().module.id;if(!e)return r.ZP.error("No plan to delete");r.ZP.promise(a.ZP.del("".concat(o,"/").concat(e)),{loading:"deleting",success:e=>(d.getState().get.paginate({}),null==e?void 0:e.message),error:e=>e})}})));t.Z=d},2632:function(e,t,l){"use strict";l.r(t);var i=l(85893),s=l(86886),n=l(15861),a=l(25358),r=l(94068),o=l(67294),d=l(16310),c=l(66242),u=l(44267),m=l(87357),x=l(51107),h=l(87952),g=l(93946),p=l(11057),Z=l(41664),j=l.n(Z),f=l(1954),v=l(10521),y=l(74543);let P=()=>{var e;let t=(0,r.Z)();(0,v.Z)();let l={ROLE:{name:d.Z_().label("Name").meta({}).required(),order:d.Rx().label("Order").meta({}).required()}},[Z,P]=(0,o.useState)(!1),[_,b]=(0,o.useState)(),[w,S]=(0,o.useState)(),[C,E]=(0,o.useState)();(0,o.useEffect)(()=>{t.get.paginate({size:10,page:1})},[]);let k=()=>{let e=d.Ry().shape(l.ROLE);b(e),S(e.describe()),E(e.getDefault()),P(!0)};return(0,i.jsxs)(s.ZP,{container:!0,spacing:6,children:[(0,i.jsx)(a.Z,{title:(0,i.jsx)(n.Z,{variant:"h5",children:"Roles List"}),subtitle:(0,i.jsx)(n.Z,{variant:"body2",children:"A role provided access to predefined menus and features so that depending on assigned role an administrator can have access to what he need"})}),(0,i.jsxs)(s.ZP,{item:!0,xs:12,sx:{mb:4},children:[(0,i.jsxs)(s.ZP,{container:!0,spacing:6,className:"match-height",children:[(null===(e=t.role.list)||void 0===e?void 0:e.length)?t.role.list.map((e,l)=>(0,i.jsx)(s.ZP,{item:!0,xs:12,sm:6,lg:4,children:(0,i.jsx)(c.Z,{children:(0,i.jsxs)(u.Z,{children:[(0,i.jsxs)(m.Z,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,i.jsx)(n.Z,{variant:"body2",children:"Total ".concat(2," users")}),(0,i.jsx)(x.Z,{max:4,sx:{"& .MuiAvatar-root":{width:32,height:32,fontSize:"0.875rem"}},children:(0,i.jsx)(h.Z,{alt:"item.title",src:"/images/avatars/1.png"})})]}),(0,i.jsxs)(m.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-end"},children:[(0,i.jsxs)(m.Z,{sx:{display:"flex",alignItems:"flex-start",flexDirection:"column"},children:[(0,i.jsx)(n.Z,{variant:"h6",children:null==e?void 0:e.name}),(0,i.jsx)(n.Z,{href:"/",variant:"body2",component:j(),sx:{color:"primary.main",textDecoration:"none"},onClick:l=>{l.preventDefault(),t.get.detail(null==e?void 0:e.id,e),k()},children:"Edit Role"})]}),(0,i.jsxs)(m.Z,{children:[(0,i.jsx)(g.Z,{color:"error",children:(0,i.jsx)(f.JO,{icon:"mdi:delete-outline",fontSize:20,onClick:l=>{t.select(e.id),t.delete()}})}),(0,i.jsx)(g.Z,{sx:{color:"text.secondary"},children:(0,i.jsx)(f.JO,{icon:"mdi:content-copy",fontSize:20,onClick:l=>{t.get.detail(null,{...e,id:null}),k()}})})]})]})]})})})):(0,i.jsx)(i.Fragment,{}),(0,i.jsx)(s.ZP,{item:!0,xs:12,sm:6,lg:4,children:(0,i.jsx)(c.Z,{sx:{cursor:"pointer"},onClick:()=>{},children:(0,i.jsxs)(s.ZP,{container:!0,sx:{height:"100%"},children:[(0,i.jsx)(s.ZP,{item:!0,xs:5,children:(0,i.jsx)(m.Z,{sx:{height:"100%",display:"flex",alignItems:"flex-end",justifyContent:"center"},children:(0,i.jsx)("img",{width:65,height:130,alt:"add-role",src:"/images/cards/pose_m1.png"})})}),(0,i.jsx)(s.ZP,{item:!0,xs:7,children:(0,i.jsx)(u.Z,{children:(0,i.jsxs)(m.Z,{sx:{textAlign:"right"},children:[(0,i.jsx)(p.Z,{variant:"contained",sx:{mb:3,whiteSpace:"nowrap"},onClick:()=>{t.get.detail(),k()},children:"Add Role"}),(0,i.jsx)(n.Z,{children:"Add role, if it doesn't exist."})]})})})]})})})]}),(0,i.jsx)(i.Fragment,{})]}),(0,i.jsx)(a.Z,{title:(0,i.jsx)(n.Z,{variant:"h5",children:"Total users with their roles"}),subtitle:(0,i.jsx)(n.Z,{variant:"body2",children:"Find all of your companyâ€™s administrator accounts and their associate roles."})}),(0,i.jsx)(s.ZP,{item:!0,xs:12,children:(0,i.jsx)(y.Z,{})})]})};P.moduleId=8,t.default=P}},function(e){e.O(0,[4386,7536,2216,3863,7693,8818,606,2229,4543,9774,2888,179],function(){return e(e.s=59907)}),_N_E=e.O()}]);