(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3538],{37575:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reset-password/[token]",function(){return r(6026)}])},67340:function(e,t,r){"use strict";var n=r(85893),l=r(90948),a=r(87357);let i=(0,l.ZP)(a.Z)(e=>{let{theme:t}=e;return{height:"100vh","& .content-center":{display:"flex",minHeight:"100vh",alignItems:"center",justifyContent:"center",padding:t.spacing(5)},"& .content-right":{display:"flex",minHeight:"100vh",overflowX:"hidden",position:"relative"}}}),s=e=>{let{children:t}=e;return(0,n.jsx)(i,{className:"layout-wrapper",children:(0,n.jsx)(a.Z,{className:"app-content",sx:{minHeight:"100vh",overflowX:"hidden",position:"relative"},children:t})})};t.Z=s},51611:function(e,t,r){"use strict";r.r(t),r.d(t,{inputType:function(){return x}});var n=r(85893),l=r(47533),a=r(1954),i=r(86886),s=r(94054),o=r(11057),d=r(5306),c=r(50135),u=r(56815),p=r(42298);r(67294);var m=r(87536),h=r(16310);let g=h.Ry().shape({name:h.Z_().required(),age:h.Rx().required()}),x={string:"text",email:"email",number:"number",date:"date","datetime-local":"datetime-local"},f=e=>{let{schema:t=g}=e,r=t.describe(),h=Object.keys(r.fields),f=t.getDefault(),{control:v,handleSubmit:y,formState:{errors:j},getValues:b,setValue:w,getFieldState:Z,reset:k}=(0,m.cI)({defaultValues:f,mode:"onChange",resolver:(0,l.X)(t)});return(0,n.jsx)(n.Fragment,{children:h.map(e=>{var t,l,h,g,f,y;let b=r.fields[e];if(null==b?void 0:null===(t=b.meta)||void 0===t?void 0:t.hidden)return(0,n.jsx)(n.Fragment,{});let Z=b.label;Z||(Z=(Z=e.replaceAll("_"," ")).charAt(0).toUpperCase()+Z.slice(1));let k=x[b.type];return(null===(l=b.meta)||void 0===l?void 0:l.type)==="file"&&(k=null===(f=b.meta)||void 0===f?void 0:f.type),"date"==k&&(null===(h=b.meta)||void 0===h?void 0:h.type)&&(k=null===(y=b.meta)||void 0===y?void 0:y.type),"boolean"==b.type&&(b.oneOf=[{value:1,label:"YES"},{value:0,label:"NO"}]),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(i.ZP,{item:!0,xs:12,sm:6,children:(0,n.jsxs)(s.Z,{fullWidth:!0,children:[(0,n.jsx)(m.Qr,{name:e,control:v,rules:{required:!0},render:t=>{let{field:{value:r,onChange:l}}=t;if("file"==k){var i;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.Z,{variant:"outlined",fullWidth:!0,size:"large",color:"secondary",children:(0,n.jsxs)("label",{htmlFor:"user-view-".concat(e),style:{width:"100%",height:"100%",display:"flex",justifyContent:"start",alignItems:"center",cursor:"pointer"},children:[(0,n.jsx)(a.JO,{icon:"mdi:cloud-upload-outline"}),(0,n.jsx)("p",{style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",margin:"0 0 0 5px"},children:(null==r?void 0:r.name)||Z})]})}),(0,n.jsx)("input",{type:"file",id:"user-view-".concat(e),hidden:!0,onChange:t=>{var r;let n=null===(r=t.target.files)||void 0===r?void 0:r[0];n&&w(e,n)},...null==b?void 0:null===(i=b.meta)||void 0===i?void 0:i.attr})]})}try{if(b.oneOf.length)return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(d.Z,{options:[...b.oneOf],onChange:(t,r)=>{console.log("value: ",r),console.log("typeof value : ","object"==typeof r),w(e,"object"==typeof r?null==r?void 0:r.value:r)},getOptionLabel:e=>"object"==typeof e?e.label:e,value:b.oneOf.find(e=>e.value==r)||r,renderInput:e=>(0,n.jsx)(c.Z,{...e,label:Z})})})}catch(t){return console.error(e),(0,n.jsx)(n.Fragment,{})}return(0,n.jsx)(c.Z,{value:r,label:Z,onChange:"datetime-local"==k?t=>{console.log("type is datetime-local"),console.log("format(new Date(e.target.value), ): ",(0,p.default)(new Date(t.target.value),"yyyy-MM-dd HH:mm:ss")),w(e,(0,p.default)(new Date(t.target.value),"yyyy-MM-dd HH:mm:ss"))}:l,type:k,error:!!j[e]})}}),j[e]&&(0,n.jsx)(u.Z,{sx:{color:"error.main"},id:"validation-schema-first-name",children:null===(g=j[e])||void 0===g?void 0:g.message})]})})})})})};t.default=f},6026:function(e,t,r){"use strict";r.r(t);var n=r(85893),l=r(67294),a=r(41664),i=r.n(a),s=r(11057),o=r(50135),d=r(87357),c=r(98396),u=r(90948),p=r(2734),m=r(15861),h=r(16310),g=r(66204),x=r(67340),f=r(23918),v=r(42374),y=r(67218),j=r(86886),b=r(94054),w=r(87536),Z=r(51611),k=r(47533),C=r(11163);let P=(0,u.ZP)(d.Z)(e=>{let{theme:t}=e;return{padding:t.spacing(20),paddingRight:"0 !important",[t.breakpoints.down("lg")]:{padding:t.spacing(10)}}}),_=(0,u.ZP)("img")(e=>{let{theme:t}=e;return{maxWidth:"53.125rem",[t.breakpoints.down("lg")]:{maxWidth:"35rem"}}}),O=(0,u.ZP)(d.Z)(e=>{let{theme:t}=e;return{width:"100%",[t.breakpoints.up("md")]:{maxWidth:450}}}),F=(0,u.ZP)(d.Z)(e=>{let{theme:t}=e;return{[t.breakpoints.down("xl")]:{width:"100%"},[t.breakpoints.down("md")]:{maxWidth:400}}}),I=(0,u.ZP)(m.Z)(e=>{let{theme:t}=e;return{fontWeight:600,marginBottom:t.spacing(1.5),[t.breakpoints.down("md")]:{mt:t.spacing(8)}}});(0,u.ZP)(i())(e=>{let{theme:t}=e;return{display:"flex",fontSize:"0.875rem",alignItems:"center",textDecoration:"none",justifyContent:"center",color:t.palette.primary.main}});let N=()=>{let e=(0,y.a)();async function t(t){let{password:r,confirm_pass:n}=t;localStorage.getItem("spzResetMail");try{await e.updatepass({password:r,confirm_pass:n})}catch(e){console.log(e)}}let r=h.Ry().shape({password:h.Z_().required().label("Password").meta({type:"password"}),confirm_pass:h.Z_().label("Confirm password").required().oneOf([h.iH("password"),null],"Passwords must match").label("Confirm Password").meta({type:"password"})}),a=(0,C.useRouter)(),{token:i}=a.query,u=(0,p.Z)(),{settings:x}=(0,f.r)(),[N,W]=(0,l.useState)(),{skin:D}=x,H=(0,c.Z)(u.breakpoints.down("md")),{control:S,handleSubmit:E,formState:{errors:R}}=(0,w.cI)({resolver:(0,k.X)(r)});return(0,n.jsxs)(d.Z,{className:"content-right",children:[H?null:(0,n.jsxs)(d.Z,{sx:{flex:1,display:"flex",position:"relative",alignItems:"center",justifyContent:"center"},children:[(0,n.jsx)(P,{children:(0,n.jsx)(_,{alt:"forgot-password-illustration",src:"/images/pages/".concat("bordered"===D?"auth-v2-forgot-password-illustration-bordered":"auth-v2-forgot-password-illustration","-").concat(u.palette.mode,".png")})}),(0,n.jsx)(v.Z,{})]}),(0,n.jsx)(O,{sx:"bordered"!==D||H?{}:{borderLeft:"1px solid ".concat(u.palette.divider)},children:(0,n.jsx)(d.Z,{sx:{p:12,height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"background.paper"},children:(0,n.jsxs)(F,{children:[(0,n.jsxs)(d.Z,{sx:{top:30,left:40,display:"flex",position:"absolute",alignItems:"center",justifyContent:"center"},children:[(0,n.jsx)("img",{src:"/logo.png",alt:"small logo",style:{width:"35px",height:"35px",borderRadius:"10% 10%"}}),(0,n.jsx)(m.Z,{variant:"h6",sx:{ml:3,lineHeight:1,fontWeight:600,textTransform:"uppercase",fontSize:"1.5rem !important"},children:g.Z.templateName})]}),(0,n.jsxs)(d.Z,{sx:{mb:6},children:[(0,n.jsx)(I,{variant:"h5",children:"Update Password? \uD83D\uDD12"}),(0,n.jsx)(m.Z,{variant:"body2",children:"Enter your password and confirm your password to update your password"})]}),(0,n.jsxs)("form",{autoComplete:"off",onSubmit:E(t),children:[(0,n.jsx)(j.ZP,{container:!0,spacing:3,children:Object.keys(r.fields).map(e=>{let t=e.charAt(0).toUpperCase()+e.slice(1),l=e.toLowerCase().includes("password"),a=r.describe().fields[e],i=Z.inputType[a.type];return(0,n.jsx)(j.ZP,{item:!0,xs:12,sm:12,children:(0,n.jsx)(b.Z,{fullWidth:!0,children:(0,n.jsx)(w.Qr,{name:e,control:S,render:r=>{var a,s;let{field:d}=r;return(0,n.jsx)(n.Fragment,{children:l?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(o.Z,{...d,label:t,type:"password",error:!!R[e],helperText:null===(a=R[e])||void 0===a?void 0:a.message})}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(o.Z,{type:i,...d,label:t,error:!!R[e],helperText:null===(s=R[e])||void 0===s?void 0:s.message})})})}})})},e)})}),(0,n.jsx)(s.Z,{fullWidth:!0,size:"large",type:"submit",variant:"contained",sx:{mb:7,mt:4},children:"Update Password"})]})]})})})]})};N.getLayout=e=>(0,n.jsx)(x.Z,{children:e}),N.guestGuard=!0,t.default=N},42374:function(e,t,r){"use strict";var n=r(85893),l=r(98396),a=r(90948),i=r(2734);let s=(0,a.ZP)("img")(()=>({bottom:0,zIndex:-1,width:"100%",position:"absolute"})),o=(0,a.ZP)("img")(e=>{let{theme:t}=e;return{left:"2.125rem",bottom:"2.688rem",position:"absolute",[t.breakpoints.down("lg")]:{left:0,bottom:0}}}),d=e=>{let{image:t}=e,r=(0,i.Z)(),a=(0,l.Z)(r.breakpoints.down("md"));return a?null:(0,n.jsxs)(n.Fragment,{children:[t||(0,n.jsx)(o,{alt:"tree",src:"/images/pages/tree.png"}),(0,n.jsx)(s,{alt:"mask",src:"/images/pages/auth-v2-mask-".concat(r.palette.mode,".png")})]})};t.Z=d}},function(e){e.O(0,[7536,2216,9774,2888,179],function(){return e(e.s=37575)}),_N_E=e.O()}]);